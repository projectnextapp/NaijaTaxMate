(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function Gp(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function rh(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var i=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(l).forEach(function(o){var a=Object.getOwnPropertyDescriptor(l,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return l[o]}})}),i}var Ml={exports:{}},di={},Wl={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd;function Jp(){if(wd)return ae;wd=1;var l=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(b,I,le){this.props=b,this.context=I,this.refs=R,this.updater=le||k}O.prototype.isReactComponent={},O.prototype.setState=function(b,I){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,I,"setState")},O.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function z(){}z.prototype=O.prototype;function B(b,I,le){this.props=b,this.context=I,this.refs=R,this.updater=le||k}var $=B.prototype=new z;$.constructor=B,T($,O.prototype),$.isPureReactComponent=!0;var J=Array.isArray,fe=Object.prototype.hasOwnProperty,ie={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function Ae(b,I,le){var ue,pe={},ge=null,_e=null;if(I!=null)for(ue in I.ref!==void 0&&(_e=I.ref),I.key!==void 0&&(ge=""+I.key),I)fe.call(I,ue)&&!ce.hasOwnProperty(ue)&&(pe[ue]=I[ue]);var ve=arguments.length-2;if(ve===1)pe.children=le;else if(1<ve){for(var be=Array(ve),lt=0;lt<ve;lt++)be[lt]=arguments[lt+2];pe.children=be}if(b&&b.defaultProps)for(ue in ve=b.defaultProps,ve)pe[ue]===void 0&&(pe[ue]=ve[ue]);return{$$typeof:l,type:b,key:ge,ref:_e,props:pe,_owner:ie.current}}function Be(b,I){return{$$typeof:l,type:b.type,key:I,ref:b.ref,props:b.props,_owner:b._owner}}function Bt(b){return typeof b=="object"&&b!==null&&b.$$typeof===l}function xn(b){var I={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(le){return I[le]})}var At=/\/+/g;function ot(b,I){return typeof b=="object"&&b!==null&&b.key!=null?xn(""+b.key):I.toString(36)}function xt(b,I,le,ue,pe){var ge=typeof b;(ge==="undefined"||ge==="boolean")&&(b=null);var _e=!1;if(b===null)_e=!0;else switch(ge){case"string":case"number":_e=!0;break;case"object":switch(b.$$typeof){case l:case n:_e=!0}}if(_e)return _e=b,pe=pe(_e),b=ue===""?"."+ot(_e,0):ue,J(pe)?(le="",b!=null&&(le=b.replace(At,"$&/")+"/"),xt(pe,I,le,"",function(lt){return lt})):pe!=null&&(Bt(pe)&&(pe=Be(pe,le+(!pe.key||_e&&_e.key===pe.key?"":(""+pe.key).replace(At,"$&/")+"/")+b)),I.push(pe)),1;if(_e=0,ue=ue===""?".":ue+":",J(b))for(var ve=0;ve<b.length;ve++){ge=b[ve];var be=ue+ot(ge,ve);_e+=xt(ge,I,le,be,pe)}else if(be=S(b),typeof be=="function")for(b=be.call(b),ve=0;!(ge=b.next()).done;)ge=ge.value,be=ue+ot(ge,ve++),_e+=xt(ge,I,le,be,pe);else if(ge==="object")throw I=String(b),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return _e}function It(b,I,le){if(b==null)return b;var ue=[],pe=0;return xt(b,ue,"","",function(ge){return I.call(le,ge,pe++)}),ue}function Ze(b){if(b._status===-1){var I=b._result;I=I(),I.then(function(le){(b._status===0||b._status===-1)&&(b._status=1,b._result=le)},function(le){(b._status===0||b._status===-1)&&(b._status=2,b._result=le)}),b._status===-1&&(b._status=0,b._result=I)}if(b._status===1)return b._result.default;throw b._result}var Pe={current:null},U={transition:null},ne={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:U,ReactCurrentOwner:ie};function W(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:It,forEach:function(b,I,le){It(b,function(){I.apply(this,arguments)},le)},count:function(b){var I=0;return It(b,function(){I++}),I},toArray:function(b){return It(b,function(I){return I})||[]},only:function(b){if(!Bt(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ae.Component=O,ae.Fragment=i,ae.Profiler=a,ae.PureComponent=B,ae.StrictMode=o,ae.Suspense=m,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ae.act=W,ae.cloneElement=function(b,I,le){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ue=T({},b.props),pe=b.key,ge=b.ref,_e=b._owner;if(I!=null){if(I.ref!==void 0&&(ge=I.ref,_e=ie.current),I.key!==void 0&&(pe=""+I.key),b.type&&b.type.defaultProps)var ve=b.type.defaultProps;for(be in I)fe.call(I,be)&&!ce.hasOwnProperty(be)&&(ue[be]=I[be]===void 0&&ve!==void 0?ve[be]:I[be])}var be=arguments.length-2;if(be===1)ue.children=le;else if(1<be){ve=Array(be);for(var lt=0;lt<be;lt++)ve[lt]=arguments[lt+2];ue.children=ve}return{$$typeof:l,type:b.type,key:pe,ref:ge,props:ue,_owner:_e}},ae.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:c,_context:b},b.Consumer=b},ae.createElement=Ae,ae.createFactory=function(b){var I=Ae.bind(null,b);return I.type=b,I},ae.createRef=function(){return{current:null}},ae.forwardRef=function(b){return{$$typeof:f,render:b}},ae.isValidElement=Bt,ae.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:Ze}},ae.memo=function(b,I){return{$$typeof:y,type:b,compare:I===void 0?null:I}},ae.startTransition=function(b){var I=U.transition;U.transition={};try{b()}finally{U.transition=I}},ae.unstable_act=W,ae.useCallback=function(b,I){return Pe.current.useCallback(b,I)},ae.useContext=function(b){return Pe.current.useContext(b)},ae.useDebugValue=function(){},ae.useDeferredValue=function(b){return Pe.current.useDeferredValue(b)},ae.useEffect=function(b,I){return Pe.current.useEffect(b,I)},ae.useId=function(){return Pe.current.useId()},ae.useImperativeHandle=function(b,I,le){return Pe.current.useImperativeHandle(b,I,le)},ae.useInsertionEffect=function(b,I){return Pe.current.useInsertionEffect(b,I)},ae.useLayoutEffect=function(b,I){return Pe.current.useLayoutEffect(b,I)},ae.useMemo=function(b,I){return Pe.current.useMemo(b,I)},ae.useReducer=function(b,I,le){return Pe.current.useReducer(b,I,le)},ae.useRef=function(b){return Pe.current.useRef(b)},ae.useState=function(b){return Pe.current.useState(b)},ae.useSyncExternalStore=function(b,I,le){return Pe.current.useSyncExternalStore(b,I,le)},ae.useTransition=function(){return Pe.current.useTransition()},ae.version="18.3.1",ae}var _d;function ga(){return _d||(_d=1,Wl.exports=Jp()),Wl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd;function Qp(){if(xd)return di;xd=1;var l=ga(),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,y){var w,E={},S=null,k=null;y!==void 0&&(S=""+y),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(k=m.ref);for(w in m)o.call(m,w)&&!c.hasOwnProperty(w)&&(E[w]=m[w]);if(f&&f.defaultProps)for(w in m=f.defaultProps,m)E[w]===void 0&&(E[w]=m[w]);return{$$typeof:n,type:f,key:S,ref:k,props:E,_owner:a.current}}return di.Fragment=i,di.jsx=h,di.jsxs=h,di}var Sd;function Yp(){return Sd||(Sd=1,Ml.exports=Qp()),Ml.exports}var g=Yp(),Ps={},Vl={exports:{}},st={},Hl={exports:{}},ql={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function Xp(){return kd||(kd=1,(function(l){function n(U,ne){var W=U.length;U.push(ne);e:for(;0<W;){var b=W-1>>>1,I=U[b];if(0<a(I,ne))U[b]=ne,U[W]=I,W=b;else break e}}function i(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var ne=U[0],W=U.pop();if(W!==ne){U[0]=W;e:for(var b=0,I=U.length,le=I>>>1;b<le;){var ue=2*(b+1)-1,pe=U[ue],ge=ue+1,_e=U[ge];if(0>a(pe,W))ge<I&&0>a(_e,pe)?(U[b]=_e,U[ge]=W,b=ge):(U[b]=pe,U[ue]=W,b=ue);else if(ge<I&&0>a(_e,W))U[b]=_e,U[ge]=W,b=ge;else break e}}return ne}function a(U,ne){var W=U.sortIndex-ne.sortIndex;return W!==0?W:U.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var h=Date,f=h.now();l.unstable_now=function(){return h.now()-f}}var m=[],y=[],w=1,E=null,S=3,k=!1,T=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(U){for(var ne=i(y);ne!==null;){if(ne.callback===null)o(y);else if(ne.startTime<=U)o(y),ne.sortIndex=ne.expirationTime,n(m,ne);else break;ne=i(y)}}function J(U){if(R=!1,$(U),!T)if(i(m)!==null)T=!0,Ze(fe);else{var ne=i(y);ne!==null&&Pe(J,ne.startTime-U)}}function fe(U,ne){T=!1,R&&(R=!1,z(Ae),Ae=-1),k=!0;var W=S;try{for($(ne),E=i(m);E!==null&&(!(E.expirationTime>ne)||U&&!xn());){var b=E.callback;if(typeof b=="function"){E.callback=null,S=E.priorityLevel;var I=b(E.expirationTime<=ne);ne=l.unstable_now(),typeof I=="function"?E.callback=I:E===i(m)&&o(m),$(ne)}else o(m);E=i(m)}if(E!==null)var le=!0;else{var ue=i(y);ue!==null&&Pe(J,ue.startTime-ne),le=!1}return le}finally{E=null,S=W,k=!1}}var ie=!1,ce=null,Ae=-1,Be=5,Bt=-1;function xn(){return!(l.unstable_now()-Bt<Be)}function At(){if(ce!==null){var U=l.unstable_now();Bt=U;var ne=!0;try{ne=ce(!0,U)}finally{ne?ot():(ie=!1,ce=null)}}else ie=!1}var ot;if(typeof B=="function")ot=function(){B(At)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,It=xt.port2;xt.port1.onmessage=At,ot=function(){It.postMessage(null)}}else ot=function(){O(At,0)};function Ze(U){ce=U,ie||(ie=!0,ot())}function Pe(U,ne){Ae=O(function(){U(l.unstable_now())},ne)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(U){U.callback=null},l.unstable_continueExecution=function(){T||k||(T=!0,Ze(fe))},l.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<U?Math.floor(1e3/U):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_getFirstCallbackNode=function(){return i(m)},l.unstable_next=function(U){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var W=S;S=ne;try{return U()}finally{S=W}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(U,ne){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=S;S=U;try{return ne()}finally{S=W}},l.unstable_scheduleCallback=function(U,ne,W){var b=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?b+W:b):W=b,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=W+I,U={id:w++,callback:ne,priorityLevel:U,startTime:W,expirationTime:I,sortIndex:-1},W>b?(U.sortIndex=W,n(y,U),i(m)===null&&U===i(y)&&(R?(z(Ae),Ae=-1):R=!0,Pe(J,W-b))):(U.sortIndex=I,n(m,U),T||k||(T=!0,Ze(fe))),U},l.unstable_shouldYield=xn,l.unstable_wrapCallback=function(U){var ne=S;return function(){var W=S;S=ne;try{return U.apply(this,arguments)}finally{S=W}}}})(ql)),ql}var Ed;function Zp(){return Ed||(Ed=1,Hl.exports=Xp()),Hl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd;function eg(){if(bd)return st;bd=1;var l=ga(),n=Zp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function S(e){return m.call(E,e)?!0:m.call(w,e)?!1:y.test(e)?E[e]=!0:(w[e]=!0,!1)}function k(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,r,s){if(t===null||typeof t>"u"||k(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,r,s,u,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,B);O[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,B);O[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,B);O[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,t,r,s){var u=O.hasOwnProperty(t)?O[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,r,u,s)&&(r=null),s||u===null?S(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var J=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),ie=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),Be=Symbol.for("react.profiler"),Bt=Symbol.for("react.provider"),xn=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),U=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,b;function I(e){if(b===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var le=!1;function ue(e,t){if(!e||le)return"";le=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var s=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){s=P}e.call(t.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),d=s.stack.split(`
`),p=u.length-1,v=d.length-1;1<=p&&0<=v&&u[p]!==d[v];)v--;for(;1<=p&&0<=v;p--,v--)if(u[p]!==d[v]){if(p!==1||v!==1)do if(p--,v--,0>v||u[p]!==d[v]){var _=`
`+u[p].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=p&&0<=v);break}}}finally{le=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function pe(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ce:return"Fragment";case ie:return"Portal";case Be:return"Profiler";case Ae:return"StrictMode";case ot:return"Suspense";case xt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xn:return(e.displayName||"Context")+".Consumer";case Bt:return(e._context.displayName||"Context")+".Provider";case At:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case It:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case Ze:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(t);case 8:return t===Ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ve(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=be(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){s=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _i(e){e._valueTracker||(e._valueTracker=lt(e))}function ba(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=be(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gs(e,t){var r=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ja(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ve(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ca(e,t){t=t.checked,t!=null&&$(e,"checked",t,!1)}function Js(e,t){Ca(e,t);var r=ve(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qs(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qs(e,t.type,ve(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ta(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qs(e,t,r){(t!=="number"||xi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jr=Array.isArray;function Mn(e,t,r,s){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ve(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ys(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oa(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(jr(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ve(r)}}function Pa(e,t){var r=ve(t.value),s=ve(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Ra(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Aa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Aa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Si,Ia=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yh=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(e){Yh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tr[t]=Tr[e]})});function Da(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tr.hasOwnProperty(e)&&Tr[e]?(""+t).trim():t+"px"}function Na(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=Da(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var Xh=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(e,t){if(t){if(Xh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function eo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var to=null;function no(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ro=null,Wn=null,Vn=null;function La(e){if(e=Qr(e)){if(typeof ro!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Hi(t),ro(e.stateNode,e.type,t))}}function $a(e){Wn?Vn?Vn.push(e):Vn=[e]:Wn=e}function za(){if(Wn){var e=Wn,t=Vn;if(Vn=Wn=null,La(e),t)for(e=0;e<t.length;e++)La(t[e])}}function Ua(e,t){return e(t)}function Ba(){}var io=!1;function Fa(e,t,r){if(io)return e(t,r);io=!0;try{return Ua(e,t,r)}finally{io=!1,(Wn!==null||Vn!==null)&&(Ba(),za())}}function Or(e,t){var r=e.stateNode;if(r===null)return null;var s=Hi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var so=!1;if(f)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){so=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{so=!1}function Zh(e,t,r,s,u,d,p,v,_){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(D){this.onError(D)}}var Rr=!1,ki=null,Ei=!1,oo=null,ef={onError:function(e){Rr=!0,ki=e}};function tf(e,t,r,s,u,d,p,v,_){Rr=!1,ki=null,Zh.apply(ef,arguments)}function nf(e,t,r,s,u,d,p,v,_){if(tf.apply(this,arguments),Rr){if(Rr){var P=ki;Rr=!1,ki=null}else throw Error(i(198));Ei||(Ei=!0,oo=P)}}function Sn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ma(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wa(e){if(Sn(e)!==e)throw Error(i(188))}function rf(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var u=r.return;if(u===null)break;var d=u.alternate;if(d===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===r)return Wa(u),e;if(d===s)return Wa(u),t;d=d.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=d;else{for(var p=!1,v=u.child;v;){if(v===r){p=!0,r=u,s=d;break}if(v===s){p=!0,s=u,r=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===r){p=!0,r=d,s=u;break}if(v===s){p=!0,s=d,r=u;break}v=v.sibling}if(!p)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function Va(e){return e=rf(e),e!==null?Ha(e):null}function Ha(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ha(e);if(t!==null)return t;e=e.sibling}return null}var qa=n.unstable_scheduleCallback,Ka=n.unstable_cancelCallback,sf=n.unstable_shouldYield,of=n.unstable_requestPaint,Ie=n.unstable_now,lf=n.unstable_getCurrentPriorityLevel,lo=n.unstable_ImmediatePriority,Ga=n.unstable_UserBlockingPriority,bi=n.unstable_NormalPriority,af=n.unstable_LowPriority,Ja=n.unstable_IdlePriority,ji=null,Dt=null;function uf(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(ji,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:hf,cf=Math.log,df=Math.LN2;function hf(e){return e>>>=0,e===0?32:31-(cf(e)/df|0)|0}var Ci=64,Ti=4194304;function Ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oi(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,d=e.pingedLanes,p=r&268435455;if(p!==0){var v=p&~u;v!==0?s=Ar(v):(d&=p,d!==0&&(s=Ar(d)))}else p=r&~u,p!==0?s=Ar(p):d!==0&&(s=Ar(d));if(s===0)return 0;if(t!==0&&t!==s&&(t&u)===0&&(u=s&-s,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-St(t),u=1<<r,s|=e[r],t&=~u;return s}function ff(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pf(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-St(d),v=1<<p,_=u[p];_===-1?((v&r)===0||(v&s)!==0)&&(u[p]=ff(v,t)):_<=t&&(e.expiredLanes|=v),d&=~v}}function ao(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qa(){var e=Ci;return Ci<<=1,(Ci&4194240)===0&&(Ci=64),e}function uo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ir(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=r}function gf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-St(r),d=1<<u;t[u]=0,s[u]=-1,e[u]=-1,r&=~d}}function co(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-St(r),u=1<<s;u&t|e[s]&t&&(e[s]|=t),r&=~u}}var we=0;function Ya(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Xa,ho,Za,eu,tu,fo=!1,Pi=[],Qt=null,Yt=null,Xt=null,Dr=new Map,Nr=new Map,Zt=[],mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Lr(e,t,r,s,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Qr(t),t!==null&&ho(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function yf(e,t,r,s,u){switch(t){case"focusin":return Qt=Lr(Qt,e,t,r,s,u),!0;case"dragenter":return Yt=Lr(Yt,e,t,r,s,u),!0;case"mouseover":return Xt=Lr(Xt,e,t,r,s,u),!0;case"pointerover":var d=u.pointerId;return Dr.set(d,Lr(Dr.get(d)||null,e,t,r,s,u)),!0;case"gotpointercapture":return d=u.pointerId,Nr.set(d,Lr(Nr.get(d)||null,e,t,r,s,u)),!0}return!1}function ru(e){var t=kn(e.target);if(t!==null){var r=Sn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ma(r),t!==null){e.blockedOn=t,tu(e.priority,function(){Za(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=go(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);to=s,r.target.dispatchEvent(s),to=null}else return t=Qr(r),t!==null&&ho(t),e.blockedOn=r,!1;t.shift()}return!0}function iu(e,t,r){Ri(e)&&r.delete(t)}function vf(){fo=!1,Qt!==null&&Ri(Qt)&&(Qt=null),Yt!==null&&Ri(Yt)&&(Yt=null),Xt!==null&&Ri(Xt)&&(Xt=null),Dr.forEach(iu),Nr.forEach(iu)}function $r(e,t){e.blockedOn===t&&(e.blockedOn=null,fo||(fo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vf)))}function zr(e){function t(u){return $r(u,e)}if(0<Pi.length){$r(Pi[0],e);for(var r=1;r<Pi.length;r++){var s=Pi[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Qt!==null&&$r(Qt,e),Yt!==null&&$r(Yt,e),Xt!==null&&$r(Xt,e),Dr.forEach(t),Nr.forEach(t),r=0;r<Zt.length;r++)s=Zt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Zt.length&&(r=Zt[0],r.blockedOn===null);)ru(r),r.blockedOn===null&&Zt.shift()}var Hn=J.ReactCurrentBatchConfig,Ai=!0;function wf(e,t,r,s){var u=we,d=Hn.transition;Hn.transition=null;try{we=1,po(e,t,r,s)}finally{we=u,Hn.transition=d}}function _f(e,t,r,s){var u=we,d=Hn.transition;Hn.transition=null;try{we=4,po(e,t,r,s)}finally{we=u,Hn.transition=d}}function po(e,t,r,s){if(Ai){var u=go(e,t,r,s);if(u===null)Ao(e,t,s,Ii,r),nu(e,s);else if(yf(u,e,t,r,s))s.stopPropagation();else if(nu(e,s),t&4&&-1<mf.indexOf(e)){for(;u!==null;){var d=Qr(u);if(d!==null&&Xa(d),d=go(e,t,r,s),d===null&&Ao(e,t,s,Ii,r),d===u)break;u=d}u!==null&&s.stopPropagation()}else Ao(e,t,s,null,r)}}var Ii=null;function go(e,t,r,s){if(Ii=null,e=no(s),e=kn(e),e!==null)if(t=Sn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ma(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ii=e,null}function su(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lf()){case lo:return 1;case Ga:return 4;case bi:case af:return 16;case Ja:return 536870912;default:return 16}default:return 16}}var en=null,mo=null,Di=null;function ou(){if(Di)return Di;var e,t=mo,r=t.length,s,u="value"in en?en.value:en.textContent,d=u.length;for(e=0;e<r&&t[e]===u[e];e++);var p=r-e;for(s=1;s<=p&&t[r-s]===u[d-s];s++);return Di=u.slice(e,1<s?1-s:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function lu(){return!1}function at(e){function t(r,s,u,d,p){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:lu,this.isPropagationStopped=lu,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=at(qn),Ur=W({},qn,{view:0,detail:0}),xf=at(Ur),vo,wo,Br,$i=W({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Br&&(Br&&e.type==="mousemove"?(vo=e.screenX-Br.screenX,wo=e.screenY-Br.screenY):wo=vo=0,Br=e),vo)},movementY:function(e){return"movementY"in e?e.movementY:wo}}),au=at($i),Sf=W({},$i,{dataTransfer:0}),kf=at(Sf),Ef=W({},Ur,{relatedTarget:0}),_o=at(Ef),bf=W({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),jf=at(bf),Cf=W({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tf=at(Cf),Of=W({},qn,{data:0}),uu=at(Of),Pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Af={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Af[e])?!!t[e]:!1}function xo(){return If}var Df=W({},Ur,{key:function(e){if(e.key){var t=Pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nf=at(Df),Lf=W({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=at(Lf),$f=W({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),zf=at($f),Uf=W({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bf=at(Uf),Ff=W({},$i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mf=at(Ff),Wf=[9,13,27,32],So=f&&"CompositionEvent"in window,Fr=null;f&&"documentMode"in document&&(Fr=document.documentMode);var Vf=f&&"TextEvent"in window&&!Fr,du=f&&(!So||Fr&&8<Fr&&11>=Fr),hu=" ",fu=!1;function pu(e,t){switch(e){case"keyup":return Wf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function Hf(e,t){switch(e){case"compositionend":return gu(t);case"keypress":return t.which!==32?null:(fu=!0,hu);case"textInput":return e=t.data,e===hu&&fu?null:e;default:return null}}function qf(e,t){if(Kn)return e==="compositionend"||!So&&pu(e,t)?(e=ou(),Di=mo=en=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var Kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kf[e.type]:t==="textarea"}function yu(e,t,r,s){$a(s),t=Mi(t,"onChange"),0<t.length&&(r=new yo("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Mr=null,Wr=null;function Gf(e){Nu(e,0)}function zi(e){var t=Xn(e);if(ba(t))return e}function Jf(e,t){if(e==="change")return t}var vu=!1;if(f){var ko;if(f){var Eo="oninput"in document;if(!Eo){var wu=document.createElement("div");wu.setAttribute("oninput","return;"),Eo=typeof wu.oninput=="function"}ko=Eo}else ko=!1;vu=ko&&(!document.documentMode||9<document.documentMode)}function _u(){Mr&&(Mr.detachEvent("onpropertychange",xu),Wr=Mr=null)}function xu(e){if(e.propertyName==="value"&&zi(Wr)){var t=[];yu(t,Wr,e,no(e)),Fa(Gf,t)}}function Qf(e,t,r){e==="focusin"?(_u(),Mr=t,Wr=r,Mr.attachEvent("onpropertychange",xu)):e==="focusout"&&_u()}function Yf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Wr)}function Xf(e,t){if(e==="click")return zi(t)}function Zf(e,t){if(e==="input"||e==="change")return zi(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:ep;function Vr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!m.call(t,u)||!kt(e[u],t[u]))return!1}return!0}function Su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ku(e,t){var r=Su(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Su(r)}}function Eu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Eu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bu(){for(var e=window,t=xi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xi(e.document)}return t}function bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tp(e){var t=bu(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Eu(r.ownerDocument.documentElement,r)){if(s!==null&&bo(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,d=Math.min(s.start,u);s=s.end===void 0?d:Math.min(s.end,u),!e.extend&&d>s&&(u=s,s=d,d=u),u=ku(r,d);var p=ku(r,s);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>s?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var np=f&&"documentMode"in document&&11>=document.documentMode,Gn=null,jo=null,Hr=null,Co=!1;function ju(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Co||Gn==null||Gn!==xi(s)||(s=Gn,"selectionStart"in s&&bo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hr&&Vr(Hr,s)||(Hr=s,s=Mi(jo,"onSelect"),0<s.length&&(t=new yo("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Gn)))}function Ui(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jn={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},To={},Cu={};f&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Bi(e){if(To[e])return To[e];if(!Jn[e])return e;var t=Jn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Cu)return To[e]=t[r];return e}var Tu=Bi("animationend"),Ou=Bi("animationiteration"),Pu=Bi("animationstart"),Ru=Bi("transitionend"),Au=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,t){Au.set(e,t),c(t,[e])}for(var Oo=0;Oo<Iu.length;Oo++){var Po=Iu[Oo],rp=Po.toLowerCase(),ip=Po[0].toUpperCase()+Po.slice(1);tn(rp,"on"+ip)}tn(Tu,"onAnimationEnd"),tn(Ou,"onAnimationIteration"),tn(Pu,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(Ru,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Du(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,nf(s,t,void 0,e),e.currentTarget=null}function Nu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],_=v.instance,P=v.currentTarget;if(v=v.listener,_!==d&&u.isPropagationStopped())break e;Du(u,v,P),d=_}else for(p=0;p<s.length;p++){if(v=s[p],_=v.instance,P=v.currentTarget,v=v.listener,_!==d&&u.isPropagationStopped())break e;Du(u,v,P),d=_}}}if(Ei)throw e=oo,Ei=!1,oo=null,e}function ke(e,t){var r=t[zo];r===void 0&&(r=t[zo]=new Set);var s=e+"__bubble";r.has(s)||(Lu(t,e,2,!1),r.add(s))}function Ro(e,t,r){var s=0;t&&(s|=4),Lu(r,e,s,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Fi]){e[Fi]=!0,o.forEach(function(r){r!=="selectionchange"&&(sp.has(r)||Ro(r,!1,e),Ro(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fi]||(t[Fi]=!0,Ro("selectionchange",!1,t))}}function Lu(e,t,r,s){switch(su(t)){case 1:var u=wf;break;case 4:u=_f;break;default:u=po}r=u.bind(null,t,r,e),u=void 0,!so||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Ao(e,t,r,s,u){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===u||v.nodeType===8&&v.parentNode===u)break;if(p===4)for(p=s.return;p!==null;){var _=p.tag;if((_===3||_===4)&&(_=p.stateNode.containerInfo,_===u||_.nodeType===8&&_.parentNode===u))return;p=p.return}for(;v!==null;){if(p=kn(v),p===null)return;if(_=p.tag,_===5||_===6){s=d=p;continue e}v=v.parentNode}}s=s.return}Fa(function(){var P=d,D=no(r),N=[];e:{var A=Au.get(e);if(A!==void 0){var F=yo,V=e;switch(e){case"keypress":if(Ni(r)===0)break e;case"keydown":case"keyup":F=Nf;break;case"focusin":V="focus",F=_o;break;case"focusout":V="blur",F=_o;break;case"beforeblur":case"afterblur":F=_o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=zf;break;case Tu:case Ou:case Pu:F=jf;break;case Ru:F=Bf;break;case"scroll":F=xf;break;case"wheel":F=Mf;break;case"copy":case"cut":case"paste":F=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=cu}var H=(t&4)!==0,De=!H&&e==="scroll",j=H?A!==null?A+"Capture":null:A;H=[];for(var x=P,C;x!==null;){C=x;var L=C.stateNode;if(C.tag===5&&L!==null&&(C=L,j!==null&&(L=Or(x,j),L!=null&&H.push(Gr(x,L,C)))),De)break;x=x.return}0<H.length&&(A=new F(A,V,null,r,D),N.push({event:A,listeners:H}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",A&&r!==to&&(V=r.relatedTarget||r.fromElement)&&(kn(V)||V[Ft]))break e;if((F||A)&&(A=D.window===D?D:(A=D.ownerDocument)?A.defaultView||A.parentWindow:window,F?(V=r.relatedTarget||r.toElement,F=P,V=V?kn(V):null,V!==null&&(De=Sn(V),V!==De||V.tag!==5&&V.tag!==6)&&(V=null)):(F=null,V=P),F!==V)){if(H=au,L="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(H=cu,L="onPointerLeave",j="onPointerEnter",x="pointer"),De=F==null?A:Xn(F),C=V==null?A:Xn(V),A=new H(L,x+"leave",F,r,D),A.target=De,A.relatedTarget=C,L=null,kn(D)===P&&(H=new H(j,x+"enter",V,r,D),H.target=C,H.relatedTarget=De,L=H),De=L,F&&V)t:{for(H=F,j=V,x=0,C=H;C;C=Qn(C))x++;for(C=0,L=j;L;L=Qn(L))C++;for(;0<x-C;)H=Qn(H),x--;for(;0<C-x;)j=Qn(j),C--;for(;x--;){if(H===j||j!==null&&H===j.alternate)break t;H=Qn(H),j=Qn(j)}H=null}else H=null;F!==null&&$u(N,A,F,H,!1),V!==null&&De!==null&&$u(N,De,V,H,!0)}}e:{if(A=P?Xn(P):window,F=A.nodeName&&A.nodeName.toLowerCase(),F==="select"||F==="input"&&A.type==="file")var G=Jf;else if(mu(A))if(vu)G=Zf;else{G=Yf;var Y=Qf}else(F=A.nodeName)&&F.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(G=Xf);if(G&&(G=G(e,P))){yu(N,G,r,D);break e}Y&&Y(e,A,P),e==="focusout"&&(Y=A._wrapperState)&&Y.controlled&&A.type==="number"&&Qs(A,"number",A.value)}switch(Y=P?Xn(P):window,e){case"focusin":(mu(Y)||Y.contentEditable==="true")&&(Gn=Y,jo=P,Hr=null);break;case"focusout":Hr=jo=Gn=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,ju(N,r,D);break;case"selectionchange":if(np)break;case"keydown":case"keyup":ju(N,r,D)}var X;if(So)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Kn?pu(e,r)&&(se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(se="onCompositionStart");se&&(du&&r.locale!=="ko"&&(Kn||se!=="onCompositionStart"?se==="onCompositionEnd"&&Kn&&(X=ou()):(en=D,mo="value"in en?en.value:en.textContent,Kn=!0)),Y=Mi(P,se),0<Y.length&&(se=new uu(se,e,null,r,D),N.push({event:se,listeners:Y}),X?se.data=X:(X=gu(r),X!==null&&(se.data=X)))),(X=Vf?Hf(e,r):qf(e,r))&&(P=Mi(P,"onBeforeInput"),0<P.length&&(D=new uu("onBeforeInput","beforeinput",null,r,D),N.push({event:D,listeners:P}),D.data=X))}Nu(N,t)})}function Gr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Mi(e,t){for(var r=t+"Capture",s=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Or(e,r),d!=null&&s.unshift(Gr(e,d,u)),d=Or(e,t),d!=null&&s.push(Gr(e,d,u))),e=e.return}return s}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $u(e,t,r,s,u){for(var d=t._reactName,p=[];r!==null&&r!==s;){var v=r,_=v.alternate,P=v.stateNode;if(_!==null&&_===s)break;v.tag===5&&P!==null&&(v=P,u?(_=Or(r,d),_!=null&&p.unshift(Gr(r,_,v))):u||(_=Or(r,d),_!=null&&p.push(Gr(r,_,v)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var op=/\r\n?/g,lp=/\u0000|\uFFFD/g;function zu(e){return(typeof e=="string"?e:""+e).replace(op,`
`).replace(lp,"")}function Wi(e,t,r){if(t=zu(t),zu(e)!==t&&r)throw Error(i(425))}function Vi(){}var Io=null,Do=null;function No(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lo=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,Uu=typeof Promise=="function"?Promise:void 0,up=typeof queueMicrotask=="function"?queueMicrotask:typeof Uu<"u"?function(e){return Uu.resolve(null).then(e).catch(cp)}:Lo;function cp(e){setTimeout(function(){throw e})}function $o(e,t){var r=t,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),zr(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);zr(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Yn,Jr="__reactProps$"+Yn,Ft="__reactContainer$"+Yn,zo="__reactEvents$"+Yn,dp="__reactListeners$"+Yn,hp="__reactHandles$"+Yn;function kn(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ft]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bu(e);e!==null;){if(r=e[Nt])return r;e=Bu(e)}return t}e=r,r=e.parentNode}return null}function Qr(e){return e=e[Nt]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Hi(e){return e[Jr]||null}var Uo=[],Zn=-1;function rn(e){return{current:e}}function Ee(e){0>Zn||(e.current=Uo[Zn],Uo[Zn]=null,Zn--)}function xe(e,t){Zn++,Uo[Zn]=e.current,e.current=t}var sn={},qe=rn(sn),et=rn(!1),En=sn;function er(e,t){var r=e.type.contextTypes;if(!r)return sn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in r)u[d]=t[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function tt(e){return e=e.childContextTypes,e!=null}function qi(){Ee(et),Ee(qe)}function Fu(e,t,r){if(qe.current!==sn)throw Error(i(168));xe(qe,t),xe(et,r)}function Mu(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,_e(e)||"Unknown",u));return W({},r,s)}function Ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,En=qe.current,xe(qe,e),xe(et,et.current),!0}function Wu(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Mu(e,t,En),s.__reactInternalMemoizedMergedChildContext=e,Ee(et),Ee(qe),xe(qe,e)):Ee(et),xe(et,r)}var Mt=null,Gi=!1,Bo=!1;function Vu(e){Mt===null?Mt=[e]:Mt.push(e)}function fp(e){Gi=!0,Vu(e)}function on(){if(!Bo&&Mt!==null){Bo=!0;var e=0,t=we;try{var r=Mt;for(we=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Mt=null,Gi=!1}catch(u){throw Mt!==null&&(Mt=Mt.slice(e+1)),qa(lo,on),u}finally{we=t,Bo=!1}}return null}var tr=[],nr=0,Ji=null,Qi=0,gt=[],mt=0,bn=null,Wt=1,Vt="";function jn(e,t){tr[nr++]=Qi,tr[nr++]=Ji,Ji=e,Qi=t}function Hu(e,t,r){gt[mt++]=Wt,gt[mt++]=Vt,gt[mt++]=bn,bn=e;var s=Wt;e=Vt;var u=32-St(s)-1;s&=~(1<<u),r+=1;var d=32-St(t)+u;if(30<d){var p=u-u%5;d=(s&(1<<p)-1).toString(32),s>>=p,u-=p,Wt=1<<32-St(t)+u|r<<u|s,Vt=d+e}else Wt=1<<d|r<<u|s,Vt=e}function Fo(e){e.return!==null&&(jn(e,1),Hu(e,1,0))}function Mo(e){for(;e===Ji;)Ji=tr[--nr],tr[nr]=null,Qi=tr[--nr],tr[nr]=null;for(;e===bn;)bn=gt[--mt],gt[mt]=null,Vt=gt[--mt],gt[mt]=null,Wt=gt[--mt],gt[mt]=null}var ut=null,ct=null,je=!1,Et=null;function qu(e,t){var r=_t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ku(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bn!==null?{id:Wt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ut=e,ct=null,!0):!1;default:return!1}}function Wo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vo(e){if(je){var t=ct;if(t){var r=t;if(!Ku(e,t)){if(Wo(e))throw Error(i(418));t=nn(r.nextSibling);var s=ut;t&&Ku(e,t)?qu(s,r):(e.flags=e.flags&-4097|2,je=!1,ut=e)}}else{if(Wo(e))throw Error(i(418));e.flags=e.flags&-4097|2,je=!1,ut=e}}}function Gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Yi(e){if(e!==ut)return!1;if(!je)return Gu(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!No(e.type,e.memoizedProps)),t&&(t=ct)){if(Wo(e))throw Ju(),Error(i(418));for(;t;)qu(e,t),t=nn(t.nextSibling)}if(Gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ct=nn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?nn(e.stateNode.nextSibling):null;return!0}function Ju(){for(var e=ct;e;)e=nn(e.nextSibling)}function rr(){ct=ut=null,je=!1}function Ho(e){Et===null?Et=[e]:Et.push(e)}var pp=J.ReactCurrentBatchConfig;function Yr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var v=u.refs;p===null?delete v[d]:v[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qu(e){var t=e._init;return t(e._payload)}function Yu(e){function t(j,x){if(e){var C=j.deletions;C===null?(j.deletions=[x],j.flags|=16):C.push(x)}}function r(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function s(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function u(j,x){return j=pn(j,x),j.index=0,j.sibling=null,j}function d(j,x,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<x?(j.flags|=2,x):C):(j.flags|=2,x)):(j.flags|=1048576,x)}function p(j){return e&&j.alternate===null&&(j.flags|=2),j}function v(j,x,C,L){return x===null||x.tag!==6?(x=Ll(C,j.mode,L),x.return=j,x):(x=u(x,C),x.return=j,x)}function _(j,x,C,L){var G=C.type;return G===ce?D(j,x,C.props.children,L,C.key):x!==null&&(x.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Ze&&Qu(G)===x.type)?(L=u(x,C.props),L.ref=Yr(j,x,C),L.return=j,L):(L=Ss(C.type,C.key,C.props,null,j.mode,L),L.ref=Yr(j,x,C),L.return=j,L)}function P(j,x,C,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=$l(C,j.mode,L),x.return=j,x):(x=u(x,C.children||[]),x.return=j,x)}function D(j,x,C,L,G){return x===null||x.tag!==7?(x=Dn(C,j.mode,L,G),x.return=j,x):(x=u(x,C),x.return=j,x)}function N(j,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ll(""+x,j.mode,C),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fe:return C=Ss(x.type,x.key,x.props,null,j.mode,C),C.ref=Yr(j,null,x),C.return=j,C;case ie:return x=$l(x,j.mode,C),x.return=j,x;case Ze:var L=x._init;return N(j,L(x._payload),C)}if(jr(x)||ne(x))return x=Dn(x,j.mode,C,null),x.return=j,x;Xi(j,x)}return null}function A(j,x,C,L){var G=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return G!==null?null:v(j,x,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fe:return C.key===G?_(j,x,C,L):null;case ie:return C.key===G?P(j,x,C,L):null;case Ze:return G=C._init,A(j,x,G(C._payload),L)}if(jr(C)||ne(C))return G!==null?null:D(j,x,C,L,null);Xi(j,C)}return null}function F(j,x,C,L,G){if(typeof L=="string"&&L!==""||typeof L=="number")return j=j.get(C)||null,v(x,j,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case fe:return j=j.get(L.key===null?C:L.key)||null,_(x,j,L,G);case ie:return j=j.get(L.key===null?C:L.key)||null,P(x,j,L,G);case Ze:var Y=L._init;return F(j,x,C,Y(L._payload),G)}if(jr(L)||ne(L))return j=j.get(C)||null,D(x,j,L,G,null);Xi(x,L)}return null}function V(j,x,C,L){for(var G=null,Y=null,X=x,se=x=0,We=null;X!==null&&se<C.length;se++){X.index>se?(We=X,X=null):We=X.sibling;var me=A(j,X,C[se],L);if(me===null){X===null&&(X=We);break}e&&X&&me.alternate===null&&t(j,X),x=d(me,x,se),Y===null?G=me:Y.sibling=me,Y=me,X=We}if(se===C.length)return r(j,X),je&&jn(j,se),G;if(X===null){for(;se<C.length;se++)X=N(j,C[se],L),X!==null&&(x=d(X,x,se),Y===null?G=X:Y.sibling=X,Y=X);return je&&jn(j,se),G}for(X=s(j,X);se<C.length;se++)We=F(X,j,se,C[se],L),We!==null&&(e&&We.alternate!==null&&X.delete(We.key===null?se:We.key),x=d(We,x,se),Y===null?G=We:Y.sibling=We,Y=We);return e&&X.forEach(function(gn){return t(j,gn)}),je&&jn(j,se),G}function H(j,x,C,L){var G=ne(C);if(typeof G!="function")throw Error(i(150));if(C=G.call(C),C==null)throw Error(i(151));for(var Y=G=null,X=x,se=x=0,We=null,me=C.next();X!==null&&!me.done;se++,me=C.next()){X.index>se?(We=X,X=null):We=X.sibling;var gn=A(j,X,me.value,L);if(gn===null){X===null&&(X=We);break}e&&X&&gn.alternate===null&&t(j,X),x=d(gn,x,se),Y===null?G=gn:Y.sibling=gn,Y=gn,X=We}if(me.done)return r(j,X),je&&jn(j,se),G;if(X===null){for(;!me.done;se++,me=C.next())me=N(j,me.value,L),me!==null&&(x=d(me,x,se),Y===null?G=me:Y.sibling=me,Y=me);return je&&jn(j,se),G}for(X=s(j,X);!me.done;se++,me=C.next())me=F(X,j,se,me.value,L),me!==null&&(e&&me.alternate!==null&&X.delete(me.key===null?se:me.key),x=d(me,x,se),Y===null?G=me:Y.sibling=me,Y=me);return e&&X.forEach(function(Kp){return t(j,Kp)}),je&&jn(j,se),G}function De(j,x,C,L){if(typeof C=="object"&&C!==null&&C.type===ce&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case fe:e:{for(var G=C.key,Y=x;Y!==null;){if(Y.key===G){if(G=C.type,G===ce){if(Y.tag===7){r(j,Y.sibling),x=u(Y,C.props.children),x.return=j,j=x;break e}}else if(Y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Ze&&Qu(G)===Y.type){r(j,Y.sibling),x=u(Y,C.props),x.ref=Yr(j,Y,C),x.return=j,j=x;break e}r(j,Y);break}else t(j,Y);Y=Y.sibling}C.type===ce?(x=Dn(C.props.children,j.mode,L,C.key),x.return=j,j=x):(L=Ss(C.type,C.key,C.props,null,j.mode,L),L.ref=Yr(j,x,C),L.return=j,j=L)}return p(j);case ie:e:{for(Y=C.key;x!==null;){if(x.key===Y)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){r(j,x.sibling),x=u(x,C.children||[]),x.return=j,j=x;break e}else{r(j,x);break}else t(j,x);x=x.sibling}x=$l(C,j.mode,L),x.return=j,j=x}return p(j);case Ze:return Y=C._init,De(j,x,Y(C._payload),L)}if(jr(C))return V(j,x,C,L);if(ne(C))return H(j,x,C,L);Xi(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,x!==null&&x.tag===6?(r(j,x.sibling),x=u(x,C),x.return=j,j=x):(r(j,x),x=Ll(C,j.mode,L),x.return=j,j=x),p(j)):r(j,x)}return De}var ir=Yu(!0),Xu=Yu(!1),Zi=rn(null),es=null,sr=null,qo=null;function Ko(){qo=sr=es=null}function Go(e){var t=Zi.current;Ee(Zi),e._currentValue=t}function Jo(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function or(e,t){es=e,qo=sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(qo!==e)if(e={context:e,memoizedValue:t,next:null},sr===null){if(es===null)throw Error(i(308));sr=e,es.dependencies={lanes:0,firstContext:e}}else sr=sr.next=e;return t}var Cn=null;function Qo(e){Cn===null?Cn=[e]:Cn.push(e)}function Zu(e,t,r,s){var u=t.interleaved;return u===null?(r.next=r,Qo(t)):(r.next=u.next,u.next=r),t.interleaved=r,Ht(e,s)}function Ht(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ln=!1;function Yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(de&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,Ht(e,r)}return u=s.interleaved,u===null?(t.next=t,Qo(s)):(t.next=u.next,u.next=t),s.interleaved=t,Ht(e,r)}function ts(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,co(e,r)}}function tc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?u=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?u=d=t:d=d.next=t}else u=d=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ns(e,t,r,s){var u=e.updateQueue;ln=!1;var d=u.firstBaseUpdate,p=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var _=v,P=_.next;_.next=null,p===null?d=P:p.next=P,p=_;var D=e.alternate;D!==null&&(D=D.updateQueue,v=D.lastBaseUpdate,v!==p&&(v===null?D.firstBaseUpdate=P:v.next=P,D.lastBaseUpdate=_))}if(d!==null){var N=u.baseState;p=0,D=P=_=null,v=d;do{var A=v.lane,F=v.eventTime;if((s&A)===A){D!==null&&(D=D.next={eventTime:F,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var V=e,H=v;switch(A=t,F=r,H.tag){case 1:if(V=H.payload,typeof V=="function"){N=V.call(F,N,A);break e}N=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=H.payload,A=typeof V=="function"?V.call(F,N,A):V,A==null)break e;N=W({},N,A);break e;case 2:ln=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,A=u.effects,A===null?u.effects=[v]:A.push(v))}else F={eventTime:F,lane:A,tag:v.tag,payload:v.payload,callback:v.callback,next:null},D===null?(P=D=F,_=N):D=D.next=F,p|=A;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;A=v,v=A.next,A.next=null,u.lastBaseUpdate=A,u.shared.pending=null}}while(!0);if(D===null&&(_=N),u.baseState=_,u.firstBaseUpdate=P,u.lastBaseUpdate=D,t=u.shared.interleaved,t!==null){u=t;do p|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);Pn|=p,e.lanes=p,e.memoizedState=N}}function nc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Xr={},Lt=rn(Xr),Zr=rn(Xr),ei=rn(Xr);function Tn(e){if(e===Xr)throw Error(i(174));return e}function Xo(e,t){switch(xe(ei,t),xe(Zr,e),xe(Lt,Xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xs(t,e)}Ee(Lt),xe(Lt,t)}function lr(){Ee(Lt),Ee(Zr),Ee(ei)}function rc(e){Tn(ei.current);var t=Tn(Lt.current),r=Xs(t,e.type);t!==r&&(xe(Zr,e),xe(Lt,r))}function Zo(e){Zr.current===e&&(Ee(Lt),Ee(Zr))}var Ce=rn(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var el=[];function tl(){for(var e=0;e<el.length;e++)el[e]._workInProgressVersionPrimary=null;el.length=0}var is=J.ReactCurrentDispatcher,nl=J.ReactCurrentBatchConfig,On=0,Te=null,$e=null,Fe=null,ss=!1,ti=!1,ni=0,gp=0;function Ke(){throw Error(i(321))}function rl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kt(e[r],t[r]))return!1;return!0}function il(e,t,r,s,u,d){if(On=d,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=e===null||e.memoizedState===null?wp:_p,e=r(s,u),ti){d=0;do{if(ti=!1,ni=0,25<=d)throw Error(i(301));d+=1,Fe=$e=null,t.updateQueue=null,is.current=xp,e=r(s,u)}while(ti)}if(is.current=as,t=$e!==null&&$e.next!==null,On=0,Fe=$e=Te=null,ss=!1,t)throw Error(i(300));return e}function sl(){var e=ni!==0;return ni=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function vt(){if($e===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Fe===null?Te.memoizedState:Fe.next;if(t!==null)Fe=t,$e=e;else{if(e===null)throw Error(i(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function ri(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=vt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=$e,u=s.baseQueue,d=r.pending;if(d!==null){if(u!==null){var p=u.next;u.next=d.next,d.next=p}s.baseQueue=u=d,r.pending=null}if(u!==null){d=u.next,s=s.baseState;var v=p=null,_=null,P=d;do{var D=P.lane;if((On&D)===D)_!==null&&(_=_.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var N={lane:D,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};_===null?(v=_=N,p=s):_=_.next=N,Te.lanes|=D,Pn|=D}P=P.next}while(P!==null&&P!==d);_===null?p=s:_.next=v,kt(s,t.memoizedState)||(nt=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=_,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do d=u.lane,Te.lanes|=d,Pn|=d,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ll(e){var t=vt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,d=t.memoizedState;if(u!==null){r.pending=null;var p=u=u.next;do d=e(d,p.action),p=p.next;while(p!==u);kt(d,t.memoizedState)||(nt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,s]}function ic(){}function sc(e,t){var r=Te,s=vt(),u=t(),d=!kt(s.memoizedState,u);if(d&&(s.memoizedState=u,nt=!0),s=s.queue,al(ac.bind(null,r,s,e),[e]),s.getSnapshot!==t||d||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,ii(9,lc.bind(null,r,s,u,t),void 0,null),Me===null)throw Error(i(349));(On&30)!==0||oc(r,t,u)}return u}function oc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lc(e,t,r,s){t.value=r,t.getSnapshot=s,uc(t)&&cc(e)}function ac(e,t,r){return r(function(){uc(t)&&cc(e)})}function uc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kt(e,r)}catch{return!0}}function cc(e){var t=Ht(e,1);t!==null&&Tt(t,e,1,-1)}function dc(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t.queue=e,e=e.dispatch=vp.bind(null,Te,e),[t.memoizedState,e]}function ii(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function hc(){return vt().memoizedState}function os(e,t,r,s){var u=$t();Te.flags|=e,u.memoizedState=ii(1|t,r,void 0,s===void 0?null:s)}function ls(e,t,r,s){var u=vt();s=s===void 0?null:s;var d=void 0;if($e!==null){var p=$e.memoizedState;if(d=p.destroy,s!==null&&rl(s,p.deps)){u.memoizedState=ii(t,r,d,s);return}}Te.flags|=e,u.memoizedState=ii(1|t,r,d,s)}function fc(e,t){return os(8390656,8,e,t)}function al(e,t){return ls(2048,8,e,t)}function pc(e,t){return ls(4,2,e,t)}function gc(e,t){return ls(4,4,e,t)}function mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yc(e,t,r){return r=r!=null?r.concat([e]):null,ls(4,4,mc.bind(null,t,e),r)}function ul(){}function vc(e,t){var r=vt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&rl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function wc(e,t){var r=vt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&rl(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function _c(e,t,r){return(On&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r):(kt(r,t)||(r=Qa(),Te.lanes|=r,Pn|=r,e.baseState=!0),t)}function mp(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var s=nl.transition;nl.transition={};try{e(!1),t()}finally{we=r,nl.transition=s}}function xc(){return vt().memoizedState}function yp(e,t,r){var s=hn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Sc(e))kc(t,r);else if(r=Zu(e,t,r,s),r!==null){var u=Xe();Tt(r,e,s,u),Ec(r,t,s)}}function vp(e,t,r){var s=hn(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sc(e))kc(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,v=d(p,r);if(u.hasEagerState=!0,u.eagerState=v,kt(v,p)){var _=t.interleaved;_===null?(u.next=u,Qo(t)):(u.next=_.next,_.next=u),t.interleaved=u;return}}catch{}finally{}r=Zu(e,t,u,s),r!==null&&(u=Xe(),Tt(r,e,s,u),Ec(r,t,s))}}function Sc(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function kc(e,t){ti=ss=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ec(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,co(e,r)}}var as={readContext:yt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},wp={readContext:yt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:fc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,os(4194308,4,mc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return os(4194308,4,e,t)},useInsertionEffect:function(e,t){return os(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=$t();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=yp.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:dc,useDebugValue:ul,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=dc(!1),t=e[0];return e=mp.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Te,u=$t();if(je){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Me===null)throw Error(i(349));(On&30)!==0||oc(s,t,r)}u.memoizedState=r;var d={value:r,getSnapshot:t};return u.queue=d,fc(ac.bind(null,s,d,e),[e]),s.flags|=2048,ii(9,lc.bind(null,s,d,r,t),void 0,null),r},useId:function(){var e=$t(),t=Me.identifierPrefix;if(je){var r=Vt,s=Wt;r=(s&~(1<<32-St(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ni++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_p={readContext:yt,useCallback:vc,useContext:yt,useEffect:al,useImperativeHandle:yc,useInsertionEffect:pc,useLayoutEffect:gc,useMemo:wc,useReducer:ol,useRef:hc,useState:function(){return ol(ri)},useDebugValue:ul,useDeferredValue:function(e){var t=vt();return _c(t,$e.memoizedState,e)},useTransition:function(){var e=ol(ri)[0],t=vt().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:sc,useId:xc,unstable_isNewReconciler:!1},xp={readContext:yt,useCallback:vc,useContext:yt,useEffect:al,useImperativeHandle:yc,useInsertionEffect:pc,useLayoutEffect:gc,useMemo:wc,useReducer:ll,useRef:hc,useState:function(){return ll(ri)},useDebugValue:ul,useDeferredValue:function(e){var t=vt();return $e===null?t.memoizedState=e:_c(t,$e.memoizedState,e)},useTransition:function(){var e=ll(ri)[0],t=vt().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:sc,useId:xc,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:W({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var us={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Xe(),u=hn(e),d=qt(s,u);d.payload=t,r!=null&&(d.callback=r),t=an(e,d,u),t!==null&&(Tt(t,e,u,s),ts(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Xe(),u=hn(e),d=qt(s,u);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=an(e,d,u),t!==null&&(Tt(t,e,u,s),ts(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),s=hn(e),u=qt(r,s);u.tag=2,t!=null&&(u.callback=t),t=an(e,u,s),t!==null&&(Tt(t,e,s,r),ts(t,e,s))}};function bc(e,t,r,s,u,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,p):t.prototype&&t.prototype.isPureReactComponent?!Vr(r,s)||!Vr(u,d):!0}function jc(e,t,r){var s=!1,u=sn,d=t.contextType;return typeof d=="object"&&d!==null?d=yt(d):(u=tt(t)?En:qe.current,s=t.contextTypes,d=(s=s!=null)?er(e,u):sn),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=us,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function Cc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&us.enqueueReplaceState(t,t.state,null)}function dl(e,t,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Yo(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=yt(d):(d=tt(t)?En:qe.current,u.context=er(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(cl(e,t,d,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&us.enqueueReplaceState(u,u.state,null),ns(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ar(e,t){try{var r="",s=t;do r+=pe(s),s=s.return;while(s);var u=r}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function hl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Sp=typeof WeakMap=="function"?WeakMap:Map;function Tc(e,t,r){r=qt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ms||(ms=!0,Tl=s),fl(e,t)},r}function Oc(e,t,r){r=qt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){fl(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){fl(e,t),typeof s!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function Pc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Sp;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),e=Lp.bind(null,e,t,r),t.then(e,e))}function Rc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ac(e,t,r,s,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qt(-1,1),t.tag=2,an(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var kp=J.ReactCurrentOwner,nt=!1;function Ye(e,t,r,s){t.child=e===null?Xu(t,null,r,s):ir(t,e.child,r,s)}function Ic(e,t,r,s,u){r=r.render;var d=t.ref;return or(t,u),s=il(e,t,r,s,d,u),r=sl(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Kt(e,t,u)):(je&&r&&Fo(t),t.flags|=1,Ye(e,t,s,u),t.child)}function Dc(e,t,r,s,u){if(e===null){var d=r.type;return typeof d=="function"&&!Nl(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,Nc(e,t,d,s,u)):(e=Ss(r.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&u)===0){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:Vr,r(p,s)&&e.ref===t.ref)return Kt(e,t,u)}return t.flags|=1,e=pn(d,s),e.ref=t.ref,e.return=t,t.child=e}function Nc(e,t,r,s,u){if(e!==null){var d=e.memoizedProps;if(Vr(d,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Kt(e,t,u)}return pl(e,t,r,s,u)}function Lc(e,t,r){var s=t.pendingProps,u=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(cr,dt),dt|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(cr,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:r,xe(cr,dt),dt|=s}else d!==null?(s=d.baseLanes|r,t.memoizedState=null):s=r,xe(cr,dt),dt|=s;return Ye(e,t,u,r),t.child}function $c(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pl(e,t,r,s,u){var d=tt(r)?En:qe.current;return d=er(t,d),or(t,u),r=il(e,t,r,s,d,u),s=sl(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Kt(e,t,u)):(je&&s&&Fo(t),t.flags|=1,Ye(e,t,r,u),t.child)}function zc(e,t,r,s,u){if(tt(r)){var d=!0;Ki(t)}else d=!1;if(or(t,u),t.stateNode===null)ds(e,t),jc(t,r,s),dl(t,r,s,u),s=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var _=p.context,P=r.contextType;typeof P=="object"&&P!==null?P=yt(P):(P=tt(r)?En:qe.current,P=er(t,P));var D=r.getDerivedStateFromProps,N=typeof D=="function"||typeof p.getSnapshotBeforeUpdate=="function";N||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==s||_!==P)&&Cc(t,p,s,P),ln=!1;var A=t.memoizedState;p.state=A,ns(t,s,p,u),_=t.memoizedState,v!==s||A!==_||et.current||ln?(typeof D=="function"&&(cl(t,r,D,s),_=t.memoizedState),(v=ln||bc(t,r,v,s,A,_,P))?(N||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=_),p.props=s,p.state=_,p.context=P,s=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,ec(e,t),v=t.memoizedProps,P=t.type===t.elementType?v:bt(t.type,v),p.props=P,N=t.pendingProps,A=p.context,_=r.contextType,typeof _=="object"&&_!==null?_=yt(_):(_=tt(r)?En:qe.current,_=er(t,_));var F=r.getDerivedStateFromProps;(D=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==N||A!==_)&&Cc(t,p,s,_),ln=!1,A=t.memoizedState,p.state=A,ns(t,s,p,u);var V=t.memoizedState;v!==N||A!==V||et.current||ln?(typeof F=="function"&&(cl(t,r,F,s),V=t.memoizedState),(P=ln||bc(t,r,P,s,A,V,_)||!1)?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,V,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,V,_)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=V),p.props=s,p.state=V,p.context=_,s=P):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),s=!1)}return gl(e,t,r,s,d,u)}function gl(e,t,r,s,u,d){$c(e,t);var p=(t.flags&128)!==0;if(!s&&!p)return u&&Wu(t,r,!1),Kt(e,t,d);s=t.stateNode,kp.current=t;var v=p&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&p?(t.child=ir(t,e.child,null,d),t.child=ir(t,null,v,d)):Ye(e,t,v,d),t.memoizedState=s.state,u&&Wu(t,r,!0),t.child}function Uc(e){var t=e.stateNode;t.pendingContext?Fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fu(e,t.context,!1),Xo(e,t.containerInfo)}function Bc(e,t,r,s,u){return rr(),Ho(u),t.flags|=256,Ye(e,t,r,s),t.child}var ml={dehydrated:null,treeContext:null,retryLane:0};function yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fc(e,t,r){var s=t.pendingProps,u=Ce.current,d=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(u&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),xe(Ce,u&1),e===null)return Vo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=s.children,e=s.fallback,d?(s=t.mode,d=t.child,p={mode:"hidden",children:p},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=ks(p,s,0,null),e=Dn(e,s,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=yl(r),t.memoizedState=ml,e):vl(t,p));if(u=e.memoizedState,u!==null&&(v=u.dehydrated,v!==null))return Ep(e,t,p,s,v,u,r);if(d){d=s.fallback,p=t.mode,u=e.child,v=u.sibling;var _={mode:"hidden",children:s.children};return(p&1)===0&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=_,t.deletions=null):(s=pn(u,_),s.subtreeFlags=u.subtreeFlags&14680064),v!==null?d=pn(v,d):(d=Dn(d,p,r,null),d.flags|=2),d.return=t,s.return=t,s.sibling=d,t.child=s,s=d,d=t.child,p=e.child.memoizedState,p=p===null?yl(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~r,t.memoizedState=ml,s}return d=e.child,e=d.sibling,s=pn(d,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function vl(e,t){return t=ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cs(e,t,r,s){return s!==null&&Ho(s),ir(t,e.child,null,r),e=vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ep(e,t,r,s,u,d,p){if(r)return t.flags&256?(t.flags&=-257,s=hl(Error(i(422))),cs(e,t,p,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=s.fallback,u=t.mode,s=ks({mode:"visible",children:s.children},u,0,null),d=Dn(d,u,p,null),d.flags|=2,s.return=t,d.return=t,s.sibling=d,t.child=s,(t.mode&1)!==0&&ir(t,e.child,null,p),t.child.memoizedState=yl(p),t.memoizedState=ml,d);if((t.mode&1)===0)return cs(e,t,p,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var v=s.dgst;return s=v,d=Error(i(419)),s=hl(d,s,void 0),cs(e,t,p,s)}if(v=(p&e.childLanes)!==0,nt||v){if(s=Me,s!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|p))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Ht(e,u),Tt(s,e,u,-1))}return Dl(),s=hl(Error(i(421))),cs(e,t,p,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=$p.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,ct=nn(u.nextSibling),ut=t,je=!0,Et=null,e!==null&&(gt[mt++]=Wt,gt[mt++]=Vt,gt[mt++]=bn,Wt=e.id,Vt=e.overflow,bn=t),t=vl(t,s.children),t.flags|=4096,t)}function Mc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Jo(e.return,t,r)}function wl(e,t,r,s,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=r,d.tailMode=u)}function Wc(e,t,r){var s=t.pendingProps,u=s.revealOrder,d=s.tail;if(Ye(e,t,s.children,r),s=Ce.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,r,t);else if(e.tag===19)Mc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(xe(Ce,s),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&rs(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),wl(t,!1,u,r,d);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&rs(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}wl(t,!0,r,null,d);break;case"together":wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ds(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=pn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bp(e,t,r){switch(t.tag){case 3:Uc(t),rr();break;case 5:rc(t);break;case 1:tt(t.type)&&Ki(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;xe(Zi,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(xe(Ce,Ce.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Fc(e,t,r):(xe(Ce,Ce.current&1),e=Kt(e,t,r),e!==null?e.sibling:null);xe(Ce,Ce.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Wc(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),xe(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,Lc(e,t,r)}return Kt(e,t,r)}var Vc,_l,Hc,qc;Vc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},_l=function(){},Hc=function(e,t,r,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,Tn(Lt.current);var d=null;switch(r){case"input":u=Gs(e,u),s=Gs(e,s),d=[];break;case"select":u=W({},u,{value:void 0}),s=W({},s,{value:void 0}),d=[];break;case"textarea":u=Ys(e,u),s=Ys(e,s),d=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Vi)}Zs(r,s);var p;r=null;for(P in u)if(!s.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var v=u[P];for(p in v)v.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(a.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in s){var _=s[P];if(v=u?.[P],s.hasOwnProperty(P)&&_!==v&&(_!=null||v!=null))if(P==="style")if(v){for(p in v)!v.hasOwnProperty(p)||_&&_.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in _)_.hasOwnProperty(p)&&v[p]!==_[p]&&(r||(r={}),r[p]=_[p])}else r||(d||(d=[]),d.push(P,r)),r=_;else P==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(d=d||[]).push(P,_)):P==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(P,""+_):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(a.hasOwnProperty(P)?(_!=null&&P==="onScroll"&&ke("scroll",e),d||v===_||(d=[])):(d=d||[]).push(P,_))}r&&(d=d||[]).push("style",r);var P=d;(t.updateQueue=P)&&(t.flags|=4)}},qc=function(e,t,r,s){r!==s&&(t.flags|=4)};function si(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function jp(e,t,r){var s=t.pendingProps;switch(Mo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return tt(t.type)&&qi(),Ge(t),null;case 3:return s=t.stateNode,lr(),Ee(et),Ee(qe),tl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Et!==null&&(Rl(Et),Et=null))),_l(e,t),Ge(t),null;case 5:Zo(t);var u=Tn(ei.current);if(r=t.type,e!==null&&t.stateNode!=null)Hc(e,t,r,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ge(t),null}if(e=Tn(Lt.current),Yi(t)){s=t.stateNode,r=t.type;var d=t.memoizedProps;switch(s[Nt]=t,s[Jr]=d,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(u=0;u<qr.length;u++)ke(qr[u],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ja(s,d),ke("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},ke("invalid",s);break;case"textarea":Oa(s,d),ke("invalid",s)}Zs(r,d),u=null;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];p==="children"?typeof v=="string"?s.textContent!==v&&(d.suppressHydrationWarning!==!0&&Wi(s.textContent,v,e),u=["children",v]):typeof v=="number"&&s.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&Wi(s.textContent,v,e),u=["children",""+v]):a.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&ke("scroll",s)}switch(r){case"input":_i(s),Ta(s,d,!0);break;case"textarea":_i(s),Ra(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=Vi)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Aa(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(r,{is:s.is}):(e=p.createElement(r),r==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,r),e[Nt]=t,e[Jr]=s,Vc(e,t,!1,!1),t.stateNode=e;e:{switch(p=eo(r,s),r){case"dialog":ke("cancel",e),ke("close",e),u=s;break;case"iframe":case"object":case"embed":ke("load",e),u=s;break;case"video":case"audio":for(u=0;u<qr.length;u++)ke(qr[u],e);u=s;break;case"source":ke("error",e),u=s;break;case"img":case"image":case"link":ke("error",e),ke("load",e),u=s;break;case"details":ke("toggle",e),u=s;break;case"input":ja(e,s),u=Gs(e,s),ke("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=W({},s,{value:void 0}),ke("invalid",e);break;case"textarea":Oa(e,s),u=Ys(e,s),ke("invalid",e);break;default:u=s}Zs(r,u),v=u;for(d in v)if(v.hasOwnProperty(d)){var _=v[d];d==="style"?Na(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Ia(e,_)):d==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&Cr(e,_):typeof _=="number"&&Cr(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?_!=null&&d==="onScroll"&&ke("scroll",e):_!=null&&$(e,d,_,p))}switch(r){case"input":_i(e),Ta(e,s,!1);break;case"textarea":_i(e),Ra(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ve(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?Mn(e,!!s.multiple,d,!1):s.defaultValue!=null&&Mn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Vi)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)qc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=Tn(ei.current),Tn(Lt.current),Yi(t)){if(s=t.stateNode,r=t.memoizedProps,s[Nt]=t,(d=s.nodeValue!==r)&&(e=ut,e!==null))switch(e.tag){case 3:Wi(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(s.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Nt]=t,t.stateNode=s}return Ge(t),null;case 13:if(Ee(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&ct!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ju(),rr(),t.flags|=98560,d=!1;else if(d=Yi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Nt]=t}else rr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),d=!1}else Et!==null&&(Rl(Et),Et=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ce.current&1)!==0?ze===0&&(ze=3):Dl())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return lr(),_l(e,t),e===null&&Kr(t.stateNode.containerInfo),Ge(t),null;case 10:return Go(t.type._context),Ge(t),null;case 17:return tt(t.type)&&qi(),Ge(t),null;case 19:if(Ee(Ce),d=t.memoizedState,d===null)return Ge(t),null;if(s=(t.flags&128)!==0,p=d.rendering,p===null)if(s)si(d,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=rs(e),p!==null){for(t.flags|=128,si(d,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)d=r,e=s,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xe(Ce,Ce.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ie()>dr&&(t.flags|=128,s=!0,si(d,!1),t.lanes=4194304)}else{if(!s)if(e=rs(p),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),si(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!je)return Ge(t),null}else 2*Ie()-d.renderingStartTime>dr&&r!==1073741824&&(t.flags|=128,s=!0,si(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(r=d.last,r!==null?r.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ie(),t.sibling=null,r=Ce.current,xe(Ce,s?r&1|2:r&1),t):(Ge(t),null);case 22:case 23:return Il(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(dt&1073741824)!==0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Cp(e,t){switch(Mo(t),t.tag){case 1:return tt(t.type)&&qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lr(),Ee(et),Ee(qe),tl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Zo(t),null;case 13:if(Ee(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Ce),null;case 4:return lr(),null;case 10:return Go(t.type._context),null;case 22:case 23:return Il(),null;case 24:return null;default:return null}}var hs=!1,Je=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,M=null;function ur(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Re(e,t,s)}else r.current=null}function xl(e,t,r){try{r()}catch(s){Re(e,t,s)}}var Kc=!1;function Op(e,t){if(Io=Ai,e=bu(),bo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,v=-1,_=-1,P=0,D=0,N=e,A=null;t:for(;;){for(var F;N!==r||u!==0&&N.nodeType!==3||(v=p+u),N!==d||s!==0&&N.nodeType!==3||(_=p+s),N.nodeType===3&&(p+=N.nodeValue.length),(F=N.firstChild)!==null;)A=N,N=F;for(;;){if(N===e)break t;if(A===r&&++P===u&&(v=p),A===d&&++D===s&&(_=p),(F=N.nextSibling)!==null)break;N=A,A=N.parentNode}N=F}r=v===-1||_===-1?null:{start:v,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(Do={focusedElem:e,selectionRange:r},Ai=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var V=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var H=V.memoizedProps,De=V.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?H:bt(t.type,H),De);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(L){Re(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return V=Kc,Kc=!1,V}function oi(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&xl(t,r,d)}u=u.next}while(u!==s)}}function fs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Sl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gc(e){var t=e.alternate;t!==null&&(e.alternate=null,Gc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Jr],delete t[zo],delete t[dp],delete t[hp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jc(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vi));else if(s!==4&&(e=e.child,e!==null))for(kl(e,t,r),e=e.sibling;e!==null;)kl(e,t,r),e=e.sibling}function El(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(El(e,t,r),e=e.sibling;e!==null;)El(e,t,r),e=e.sibling}var Ve=null,jt=!1;function un(e,t,r){for(r=r.child;r!==null;)Yc(e,t,r),r=r.sibling}function Yc(e,t,r){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(ji,r)}catch{}switch(r.tag){case 5:Je||ur(r,t);case 6:var s=Ve,u=jt;Ve=null,un(e,t,r),Ve=s,jt=u,Ve!==null&&(jt?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(jt?(e=Ve,r=r.stateNode,e.nodeType===8?$o(e.parentNode,r):e.nodeType===1&&$o(e,r),zr(e)):$o(Ve,r.stateNode));break;case 4:s=Ve,u=jt,Ve=r.stateNode.containerInfo,jt=!0,un(e,t,r),Ve=s,jt=u;break;case 0:case 11:case 14:case 15:if(!Je&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var d=u,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&xl(r,t,p),u=u.next}while(u!==s)}un(e,t,r);break;case 1:if(!Je&&(ur(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(v){Re(r,t,v)}un(e,t,r);break;case 21:un(e,t,r);break;case 22:r.mode&1?(Je=(s=Je)||r.memoizedState!==null,un(e,t,r),Je=s):un(e,t,r);break;default:un(e,t,r)}}function Xc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tp),t.forEach(function(s){var u=zp.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function Ct(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var d=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:Ve=v.stateNode,jt=!1;break e;case 3:Ve=v.stateNode.containerInfo,jt=!0;break e;case 4:Ve=v.stateNode.containerInfo,jt=!0;break e}v=v.return}if(Ve===null)throw Error(i(160));Yc(d,p,u),Ve=null,jt=!1;var _=u.alternate;_!==null&&(_.return=null),u.return=null}catch(P){Re(u,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zc(t,e),t=t.sibling}function Zc(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),zt(e),s&4){try{oi(3,e,e.return),fs(3,e)}catch(H){Re(e,e.return,H)}try{oi(5,e,e.return)}catch(H){Re(e,e.return,H)}}break;case 1:Ct(t,e),zt(e),s&512&&r!==null&&ur(r,r.return);break;case 5:if(Ct(t,e),zt(e),s&512&&r!==null&&ur(r,r.return),e.flags&32){var u=e.stateNode;try{Cr(u,"")}catch(H){Re(e,e.return,H)}}if(s&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,p=r!==null?r.memoizedProps:d,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&Ca(u,d),eo(v,p);var P=eo(v,d);for(p=0;p<_.length;p+=2){var D=_[p],N=_[p+1];D==="style"?Na(u,N):D==="dangerouslySetInnerHTML"?Ia(u,N):D==="children"?Cr(u,N):$(u,D,N,P)}switch(v){case"input":Js(u,d);break;case"textarea":Pa(u,d);break;case"select":var A=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?Mn(u,!!d.multiple,F,!1):A!==!!d.multiple&&(d.defaultValue!=null?Mn(u,!!d.multiple,d.defaultValue,!0):Mn(u,!!d.multiple,d.multiple?[]:"",!1))}u[Jr]=d}catch(H){Re(e,e.return,H)}}break;case 6:if(Ct(t,e),zt(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(H){Re(e,e.return,H)}}break;case 3:if(Ct(t,e),zt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{zr(t.containerInfo)}catch(H){Re(e,e.return,H)}break;case 4:Ct(t,e),zt(e);break;case 13:Ct(t,e),zt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Cl=Ie())),s&4&&Xc(e);break;case 22:if(D=r!==null&&r.memoizedState!==null,e.mode&1?(Je=(P=Je)||D,Ct(t,e),Je=P):Ct(t,e),zt(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!D&&(e.mode&1)!==0)for(M=e,D=e.child;D!==null;){for(N=M=D;M!==null;){switch(A=M,F=A.child,A.tag){case 0:case 11:case 14:case 15:oi(4,A,A.return);break;case 1:ur(A,A.return);var V=A.stateNode;if(typeof V.componentWillUnmount=="function"){s=A,r=A.return;try{t=s,V.props=t.memoizedProps,V.state=t.memoizedState,V.componentWillUnmount()}catch(H){Re(s,r,H)}}break;case 5:ur(A,A.return);break;case 22:if(A.memoizedState!==null){nd(N);continue}}F!==null?(F.return=A,M=F):nd(N)}D=D.sibling}e:for(D=null,N=e;;){if(N.tag===5){if(D===null){D=N;try{u=N.stateNode,P?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=N.stateNode,_=N.memoizedProps.style,p=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=Da("display",p))}catch(H){Re(e,e.return,H)}}}else if(N.tag===6){if(D===null)try{N.stateNode.nodeValue=P?"":N.memoizedProps}catch(H){Re(e,e.return,H)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;D===N&&(D=null),N=N.return}D===N&&(D=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Ct(t,e),zt(e),s&4&&Xc(e);break;case 21:break;default:Ct(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Jc(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(Cr(u,""),s.flags&=-33);var d=Qc(e);El(e,d,u);break;case 3:case 4:var p=s.stateNode.containerInfo,v=Qc(e);kl(e,v,p);break;default:throw Error(i(161))}}catch(_){Re(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pp(e,t,r){M=e,ed(e)}function ed(e,t,r){for(var s=(e.mode&1)!==0;M!==null;){var u=M,d=u.child;if(u.tag===22&&s){var p=u.memoizedState!==null||hs;if(!p){var v=u.alternate,_=v!==null&&v.memoizedState!==null||Je;v=hs;var P=Je;if(hs=p,(Je=_)&&!P)for(M=u;M!==null;)p=M,_=p.child,p.tag===22&&p.memoizedState!==null?rd(u):_!==null?(_.return=p,M=_):rd(u);for(;d!==null;)M=d,ed(d),d=d.sibling;M=u,hs=v,Je=P}td(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,M=d):td(e)}}function td(e){for(;M!==null;){var t=M;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Je||fs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Je)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:bt(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&nc(t,d,s);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nc(t,p,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var D=P.memoizedState;if(D!==null){var N=D.dehydrated;N!==null&&zr(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Je||t.flags&512&&Sl(t)}catch(A){Re(t,t.return,A)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function nd(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function rd(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fs(4,t)}catch(_){Re(t,r,_)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(_){Re(t,u,_)}}var d=t.return;try{Sl(t)}catch(_){Re(t,d,_)}break;case 5:var p=t.return;try{Sl(t)}catch(_){Re(t,p,_)}}}catch(_){Re(t,t.return,_)}if(t===e){M=null;break}var v=t.sibling;if(v!==null){v.return=t.return,M=v;break}M=t.return}}var Rp=Math.ceil,ps=J.ReactCurrentDispatcher,bl=J.ReactCurrentOwner,wt=J.ReactCurrentBatchConfig,de=0,Me=null,Ne=null,He=0,dt=0,cr=rn(0),ze=0,li=null,Pn=0,gs=0,jl=0,ai=null,rt=null,Cl=0,dr=1/0,Gt=null,ms=!1,Tl=null,cn=null,ys=!1,dn=null,vs=0,ui=0,Ol=null,ws=-1,_s=0;function Xe(){return(de&6)!==0?Ie():ws!==-1?ws:ws=Ie()}function hn(e){return(e.mode&1)===0?1:(de&2)!==0&&He!==0?He&-He:pp.transition!==null?(_s===0&&(_s=Qa()),_s):(e=we,e!==0||(e=window.event,e=e===void 0?16:su(e.type)),e)}function Tt(e,t,r,s){if(50<ui)throw ui=0,Ol=null,Error(i(185));Ir(e,r,s),((de&2)===0||e!==Me)&&(e===Me&&((de&2)===0&&(gs|=r),ze===4&&fn(e,He)),it(e,s),r===1&&de===0&&(t.mode&1)===0&&(dr=Ie()+500,Gi&&on()))}function it(e,t){var r=e.callbackNode;pf(e,t);var s=Oi(e,e===Me?He:0);if(s===0)r!==null&&Ka(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Ka(r),t===1)e.tag===0?fp(sd.bind(null,e)):Vu(sd.bind(null,e)),up(function(){(de&6)===0&&on()}),r=null;else{switch(Ya(s)){case 1:r=lo;break;case 4:r=Ga;break;case 16:r=bi;break;case 536870912:r=Ja;break;default:r=bi}r=fd(r,id.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function id(e,t){if(ws=-1,_s=0,(de&6)!==0)throw Error(i(327));var r=e.callbackNode;if(hr()&&e.callbackNode!==r)return null;var s=Oi(e,e===Me?He:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=xs(e,s);else{t=s;var u=de;de|=2;var d=ld();(Me!==e||He!==t)&&(Gt=null,dr=Ie()+500,An(e,t));do try{Dp();break}catch(v){od(e,v)}while(!0);Ko(),ps.current=d,de=u,Ne!==null?t=0:(Me=null,He=0,t=ze)}if(t!==0){if(t===2&&(u=ao(e),u!==0&&(s=u,t=Pl(e,u))),t===1)throw r=li,An(e,0),fn(e,s),it(e,Ie()),r;if(t===6)fn(e,s);else{if(u=e.current.alternate,(s&30)===0&&!Ap(u)&&(t=xs(e,s),t===2&&(d=ao(e),d!==0&&(s=d,t=Pl(e,d))),t===1))throw r=li,An(e,0),fn(e,s),it(e,Ie()),r;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:In(e,rt,Gt);break;case 3:if(fn(e,s),(s&130023424)===s&&(t=Cl+500-Ie(),10<t)){if(Oi(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){Xe(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Lo(In.bind(null,e,rt,Gt),t);break}In(e,rt,Gt);break;case 4:if(fn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var p=31-St(s);d=1<<p,p=t[p],p>u&&(u=p),s&=~d}if(s=u,s=Ie()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Rp(s/1960))-s,10<s){e.timeoutHandle=Lo(In.bind(null,e,rt,Gt),s);break}In(e,rt,Gt);break;case 5:In(e,rt,Gt);break;default:throw Error(i(329))}}}return it(e,Ie()),e.callbackNode===r?id.bind(null,e):null}function Pl(e,t){var r=ai;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=xs(e,t),e!==2&&(t=rt,rt=r,t!==null&&Rl(t)),e}function Rl(e){rt===null?rt=e:rt.push.apply(rt,e)}function Ap(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],d=u.getSnapshot;u=u.value;try{if(!kt(d(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~jl,t&=~gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-St(t),s=1<<r;e[r]=-1,t&=~s}}function sd(e){if((de&6)!==0)throw Error(i(327));hr();var t=Oi(e,0);if((t&1)===0)return it(e,Ie()),null;var r=xs(e,t);if(e.tag!==0&&r===2){var s=ao(e);s!==0&&(t=s,r=Pl(e,s))}if(r===1)throw r=li,An(e,0),fn(e,t),it(e,Ie()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,rt,Gt),it(e,Ie()),null}function Al(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(dr=Ie()+500,Gi&&on())}}function Rn(e){dn!==null&&dn.tag===0&&(de&6)===0&&hr();var t=de;de|=1;var r=wt.transition,s=we;try{if(wt.transition=null,we=1,e)return e()}finally{we=s,wt.transition=r,de=t,(de&6)===0&&on()}}function Il(){dt=cr.current,Ee(cr)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ap(r)),Ne!==null)for(r=Ne.return;r!==null;){var s=r;switch(Mo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&qi();break;case 3:lr(),Ee(et),Ee(qe),tl();break;case 5:Zo(s);break;case 4:lr();break;case 13:Ee(Ce);break;case 19:Ee(Ce);break;case 10:Go(s.type._context);break;case 22:case 23:Il()}r=r.return}if(Me=e,Ne=e=pn(e.current,null),He=dt=t,ze=0,li=null,jl=gs=Pn=0,rt=ai=null,Cn!==null){for(t=0;t<Cn.length;t++)if(r=Cn[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,d=r.pending;if(d!==null){var p=d.next;d.next=u,s.next=p}r.pending=s}Cn=null}return e}function od(e,t){do{var r=Ne;try{if(Ko(),is.current=as,ss){for(var s=Te.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}ss=!1}if(On=0,Fe=$e=Te=null,ti=!1,ni=0,bl.current=null,r===null||r.return===null){ze=1,li=t,Ne=null;break}e:{var d=e,p=r.return,v=r,_=t;if(t=He,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_,D=v,N=D.tag;if((D.mode&1)===0&&(N===0||N===11||N===15)){var A=D.alternate;A?(D.updateQueue=A.updateQueue,D.memoizedState=A.memoizedState,D.lanes=A.lanes):(D.updateQueue=null,D.memoizedState=null)}var F=Rc(p);if(F!==null){F.flags&=-257,Ac(F,p,v,d,t),F.mode&1&&Pc(d,P,t),t=F,_=P;var V=t.updateQueue;if(V===null){var H=new Set;H.add(_),t.updateQueue=H}else V.add(_);break e}else{if((t&1)===0){Pc(d,P,t),Dl();break e}_=Error(i(426))}}else if(je&&v.mode&1){var De=Rc(p);if(De!==null){(De.flags&65536)===0&&(De.flags|=256),Ac(De,p,v,d,t),Ho(ar(_,v));break e}}d=_=ar(_,v),ze!==4&&(ze=2),ai===null?ai=[d]:ai.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var j=Tc(d,_,t);tc(d,j);break e;case 1:v=_;var x=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(cn===null||!cn.has(C)))){d.flags|=65536,t&=-t,d.lanes|=t;var L=Oc(d,v,t);tc(d,L);break e}}d=d.return}while(d!==null)}ud(r)}catch(G){t=G,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function ld(){var e=ps.current;return ps.current=as,e===null?as:e}function Dl(){(ze===0||ze===3||ze===2)&&(ze=4),Me===null||(Pn&268435455)===0&&(gs&268435455)===0||fn(Me,He)}function xs(e,t){var r=de;de|=2;var s=ld();(Me!==e||He!==t)&&(Gt=null,An(e,t));do try{Ip();break}catch(u){od(e,u)}while(!0);if(Ko(),de=r,ps.current=s,Ne!==null)throw Error(i(261));return Me=null,He=0,ze}function Ip(){for(;Ne!==null;)ad(Ne)}function Dp(){for(;Ne!==null&&!sf();)ad(Ne)}function ad(e){var t=hd(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?ud(e):Ne=t,bl.current=null}function ud(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=jp(r,t,dt),r!==null){Ne=r;return}}else{if(r=Cp(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ne=null;return}}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);ze===0&&(ze=5)}function In(e,t,r){var s=we,u=wt.transition;try{wt.transition=null,we=1,Np(e,t,r,s)}finally{wt.transition=u,we=s}return null}function Np(e,t,r,s){do hr();while(dn!==null);if((de&6)!==0)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(gf(e,d),e===Me&&(Ne=Me=null,He=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ys||(ys=!0,fd(bi,function(){return hr(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=wt.transition,wt.transition=null;var p=we;we=1;var v=de;de|=4,bl.current=null,Op(e,r),Zc(r,e),tp(Do),Ai=!!Io,Do=Io=null,e.current=r,Pp(r),of(),de=v,we=p,wt.transition=d}else e.current=r;if(ys&&(ys=!1,dn=e,vs=u),d=e.pendingLanes,d===0&&(cn=null),uf(r.stateNode),it(e,Ie()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(ms)throw ms=!1,e=Tl,Tl=null,e;return(vs&1)!==0&&e.tag!==0&&hr(),d=e.pendingLanes,(d&1)!==0?e===Ol?ui++:(ui=0,Ol=e):ui=0,on(),null}function hr(){if(dn!==null){var e=Ya(vs),t=wt.transition,r=we;try{if(wt.transition=null,we=16>e?16:e,dn===null)var s=!1;else{if(e=dn,dn=null,vs=0,(de&6)!==0)throw Error(i(331));var u=de;for(de|=4,M=e.current;M!==null;){var d=M,p=d.child;if((M.flags&16)!==0){var v=d.deletions;if(v!==null){for(var _=0;_<v.length;_++){var P=v[_];for(M=P;M!==null;){var D=M;switch(D.tag){case 0:case 11:case 15:oi(8,D,d)}var N=D.child;if(N!==null)N.return=D,M=N;else for(;M!==null;){D=M;var A=D.sibling,F=D.return;if(Gc(D),D===P){M=null;break}if(A!==null){A.return=F,M=A;break}M=F}}}var V=d.alternate;if(V!==null){var H=V.child;if(H!==null){V.child=null;do{var De=H.sibling;H.sibling=null,H=De}while(H!==null)}}M=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,M=p;else e:for(;M!==null;){if(d=M,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:oi(9,d,d.return)}var j=d.sibling;if(j!==null){j.return=d.return,M=j;break e}M=d.return}}var x=e.current;for(M=x;M!==null;){p=M;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,M=C;else e:for(p=x;M!==null;){if(v=M,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:fs(9,v)}}catch(G){Re(v,v.return,G)}if(v===p){M=null;break e}var L=v.sibling;if(L!==null){L.return=v.return,M=L;break e}M=v.return}}if(de=u,on(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(ji,e)}catch{}s=!0}return s}finally{we=r,wt.transition=t}}return!1}function cd(e,t,r){t=ar(r,t),t=Tc(e,t,1),e=an(e,t,1),t=Xe(),e!==null&&(Ir(e,1,t),it(e,t))}function Re(e,t,r){if(e.tag===3)cd(e,e,r);else for(;t!==null;){if(t.tag===3){cd(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(cn===null||!cn.has(s))){e=ar(r,e),e=Oc(t,e,1),t=an(t,e,1),e=Xe(),t!==null&&(Ir(t,1,e),it(t,e));break}}t=t.return}}function Lp(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,Me===e&&(He&r)===r&&(ze===4||ze===3&&(He&130023424)===He&&500>Ie()-Cl?An(e,0):jl|=r),it(e,t)}function dd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ti,Ti<<=1,(Ti&130023424)===0&&(Ti=4194304)));var r=Xe();e=Ht(e,t),e!==null&&(Ir(e,t,r),it(e,r))}function $p(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dd(e,r)}function zp(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),dd(e,r)}var hd;hd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)nt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return nt=!1,bp(e,t,r);nt=(e.flags&131072)!==0}else nt=!1,je&&(t.flags&1048576)!==0&&Hu(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ds(e,t),e=t.pendingProps;var u=er(t,qe.current);or(t,r),u=il(null,t,s,e,u,r);var d=sl();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(s)?(d=!0,Ki(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Yo(t),u.updater=us,t.stateNode=u,u._reactInternals=t,dl(t,s,e,r),t=gl(null,t,s,!0,d,r)):(t.tag=0,je&&d&&Fo(t),Ye(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ds(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=Bp(s),e=bt(s,e),u){case 0:t=pl(null,t,s,e,r);break e;case 1:t=zc(null,t,s,e,r);break e;case 11:t=Ic(null,t,s,e,r);break e;case 14:t=Dc(null,t,s,bt(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:bt(s,u),pl(e,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:bt(s,u),zc(e,t,s,u,r);case 3:e:{if(Uc(t),e===null)throw Error(i(387));s=t.pendingProps,d=t.memoizedState,u=d.element,ec(e,t),ns(t,s,null,r);var p=t.memoizedState;if(s=p.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=ar(Error(i(423)),t),t=Bc(e,t,s,r,u);break e}else if(s!==u){u=ar(Error(i(424)),t),t=Bc(e,t,s,r,u);break e}else for(ct=nn(t.stateNode.containerInfo.firstChild),ut=t,je=!0,Et=null,r=Xu(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rr(),s===u){t=Kt(e,t,r);break e}Ye(e,t,s,r)}t=t.child}return t;case 5:return rc(t),e===null&&Vo(t),s=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,p=u.children,No(s,u)?p=null:d!==null&&No(s,d)&&(t.flags|=32),$c(e,t),Ye(e,t,p,r),t.child;case 6:return e===null&&Vo(t),null;case 13:return Fc(e,t,r);case 4:return Xo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ir(t,null,s,r):Ye(e,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:bt(s,u),Ic(e,t,s,u,r);case 7:return Ye(e,t,t.pendingProps,r),t.child;case 8:return Ye(e,t,t.pendingProps.children,r),t.child;case 12:return Ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,d=t.memoizedProps,p=u.value,xe(Zi,s._currentValue),s._currentValue=p,d!==null)if(kt(d.value,p)){if(d.children===u.children&&!et.current){t=Kt(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){p=d.child;for(var _=v.firstContext;_!==null;){if(_.context===s){if(d.tag===1){_=qt(-1,r&-r),_.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var D=P.pending;D===null?_.next=_:(_.next=D.next,D.next=_),P.pending=_}}d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),Jo(d.return,r,t),v.lanes|=r;break}_=_.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(i(341));p.lanes|=r,v=p.alternate,v!==null&&(v.lanes|=r),Jo(p,r,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Ye(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,or(t,r),u=yt(u),s=s(u),t.flags|=1,Ye(e,t,s,r),t.child;case 14:return s=t.type,u=bt(s,t.pendingProps),u=bt(s.type,u),Dc(e,t,s,u,r);case 15:return Nc(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:bt(s,u),ds(e,t),t.tag=1,tt(s)?(e=!0,Ki(t)):e=!1,or(t,r),jc(t,s,u),dl(t,s,u,r),gl(null,t,s,!0,e,r);case 19:return Wc(e,t,r);case 22:return Lc(e,t,r)}throw Error(i(156,t.tag))};function fd(e,t){return qa(e,t)}function Up(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,r,s){return new Up(e,t,r,s)}function Nl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bp(e){if(typeof e=="function")return Nl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===At)return 11;if(e===It)return 14}return 2}function pn(e,t){var r=e.alternate;return r===null?(r=_t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ss(e,t,r,s,u,d){var p=2;if(s=e,typeof e=="function")Nl(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ce:return Dn(r.children,u,d,t);case Ae:p=8,u|=8;break;case Be:return e=_t(12,r,t,u|2),e.elementType=Be,e.lanes=d,e;case ot:return e=_t(13,r,t,u),e.elementType=ot,e.lanes=d,e;case xt:return e=_t(19,r,t,u),e.elementType=xt,e.lanes=d,e;case Pe:return ks(r,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bt:p=10;break e;case xn:p=9;break e;case At:p=11;break e;case It:p=14;break e;case Ze:p=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=_t(p,r,t,u),t.elementType=e,t.type=s,t.lanes=d,t}function Dn(e,t,r,s){return e=_t(7,e,s,t),e.lanes=r,e}function ks(e,t,r,s){return e=_t(22,e,s,t),e.elementType=Pe,e.lanes=r,e.stateNode={isHidden:!1},e}function Ll(e,t,r){return e=_t(6,e,null,t),e.lanes=r,e}function $l(e,t,r){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fp(e,t,r,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uo(0),this.expirationTimes=uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function zl(e,t,r,s,u,d,p,v,_){return e=new Fp(e,t,r,v,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=_t(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yo(d),e}function Mp(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function pd(e){if(!e)return sn;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(tt(r))return Mu(e,r,t)}return t}function gd(e,t,r,s,u,d,p,v,_){return e=zl(r,s,!0,e,u,d,p,v,_),e.context=pd(null),r=e.current,s=Xe(),u=hn(r),d=qt(s,u),d.callback=t??null,an(r,d,u),e.current.lanes=u,Ir(e,u,s),it(e,s),e}function Es(e,t,r,s){var u=t.current,d=Xe(),p=hn(u);return r=pd(r),t.context===null?t.context=r:t.pendingContext=r,t=qt(d,p),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=an(u,t,p),e!==null&&(Tt(e,u,p,d),ts(e,u,p)),p}function bs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ul(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function Wp(){return null}var yd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bl(e){this._internalRoot=e}js.prototype.render=Bl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Es(e,t,null,null)},js.prototype.unmount=Bl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){Es(null,e,null,null)}),t[Ft]=null}};function js(e){this._internalRoot=e}js.prototype.unstable_scheduleHydration=function(e){if(e){var t=eu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zt.length&&t!==0&&t<Zt[r].priority;r++);Zt.splice(r,0,e),r===0&&ru(e)}};function Fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vd(){}function Vp(e,t,r,s,u){if(u){if(typeof s=="function"){var d=s;s=function(){var P=bs(p);d.call(P)}}var p=gd(t,s,e,0,null,!1,!1,"",vd);return e._reactRootContainer=p,e[Ft]=p.current,Kr(e.nodeType===8?e.parentNode:e),Rn(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var v=s;s=function(){var P=bs(_);v.call(P)}}var _=zl(e,0,!1,null,null,!1,!1,"",vd);return e._reactRootContainer=_,e[Ft]=_.current,Kr(e.nodeType===8?e.parentNode:e),Rn(function(){Es(t,_,r,s)}),_}function Ts(e,t,r,s,u){var d=r._reactRootContainer;if(d){var p=d;if(typeof u=="function"){var v=u;u=function(){var _=bs(p);v.call(_)}}Es(t,p,e,u)}else p=Vp(r,t,e,u,s);return bs(p)}Xa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ar(t.pendingLanes);r!==0&&(co(t,r|1),it(t,Ie()),(de&6)===0&&(dr=Ie()+500,on()))}break;case 13:Rn(function(){var s=Ht(e,1);if(s!==null){var u=Xe();Tt(s,e,1,u)}}),Ul(e,1)}},ho=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var r=Xe();Tt(t,e,134217728,r)}Ul(e,134217728)}},Za=function(e){if(e.tag===13){var t=hn(e),r=Ht(e,t);if(r!==null){var s=Xe();Tt(r,e,t,s)}Ul(e,t)}},eu=function(){return we},tu=function(e,t){var r=we;try{return we=e,t()}finally{we=r}},ro=function(e,t,r){switch(t){case"input":if(Js(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var u=Hi(s);if(!u)throw Error(i(90));ba(s),Js(s,u)}}}break;case"textarea":Pa(e,r);break;case"select":t=r.value,t!=null&&Mn(e,!!r.multiple,t,!1)}},Ua=Al,Ba=Rn;var Hp={usingClientEntryPoint:!1,Events:[Qr,Xn,Hi,$a,za,Al]},ci={findFiberByHostInstance:kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qp={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Va(e),e===null?null:e.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||Wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{ji=Os.inject(qp),Dt=Os}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp,st.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fl(t))throw Error(i(200));return Mp(e,t,null,r)},st.createRoot=function(e,t){if(!Fl(e))throw Error(i(299));var r=!1,s="",u=yd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=zl(e,1,!1,null,null,r,!1,s,u),e[Ft]=t.current,Kr(e.nodeType===8?e.parentNode:e),new Bl(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Va(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return Rn(e)},st.hydrate=function(e,t,r){if(!Cs(t))throw Error(i(200));return Ts(null,e,t,!0,r)},st.hydrateRoot=function(e,t,r){if(!Fl(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,d="",p=yd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=gd(t,null,e,1,r??null,u,!1,d,p),e[Ft]=t.current,Kr(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new js(t)},st.render=function(e,t,r){if(!Cs(t))throw Error(i(200));return Ts(null,e,t,!1,r)},st.unmountComponentAtNode=function(e){if(!Cs(e))throw Error(i(40));return e._reactRootContainer?(Rn(function(){Ts(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1},st.unstable_batchedUpdates=Al,st.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Cs(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ts(e,t,r,!1,s)},st.version="18.3.1-next-f1338f8080-20240426",st}var jd;function tg(){if(jd)return Vl.exports;jd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Vl.exports=eg(),Vl.exports}var Cd;function ng(){if(Cd)return Ps;Cd=1;var l=tg();return Ps.createRoot=l.createRoot,Ps.hydrateRoot=l.hydrateRoot,Ps}var rg=ng(),he=ga(),na=function(l,n){return na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},na(l,n)};function ih(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");na(l,n);function i(){this.constructor=l}l.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var Bs=function(){return Bs=Object.assign||function(n){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},Bs.apply(this,arguments)};function kr(l,n){var i={};for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&n.indexOf(o)<0&&(i[o]=l[o]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(l);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(l,o[a])&&(i[o[a]]=l[o[a]]);return i}function sh(l,n,i,o){var a=arguments.length,c=a<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,i):o,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,n,i,o);else for(var f=l.length-1;f>=0;f--)(h=l[f])&&(c=(a<3?h(c):a>3?h(n,i,c):h(n,i))||c);return a>3&&c&&Object.defineProperty(n,i,c),c}function oh(l,n){return function(i,o){n(i,o,l)}}function lh(l,n,i,o,a,c){function h(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var f=o.kind,m=f==="getter"?"get":f==="setter"?"set":"value",y=!n&&l?o.static?l:l.prototype:null,w=n||(y?Object.getOwnPropertyDescriptor(y,o.name):{}),E,S=!1,k=i.length-1;k>=0;k--){var T={};for(var R in o)T[R]=R==="access"?{}:o[R];for(var R in o.access)T.access[R]=o.access[R];T.addInitializer=function(z){if(S)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(z||null))};var O=(0,i[k])(f==="accessor"?{get:w.get,set:w.set}:w[m],T);if(f==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(E=h(O.get))&&(w.get=E),(E=h(O.set))&&(w.set=E),(E=h(O.init))&&a.unshift(E)}else(E=h(O))&&(f==="field"?a.unshift(E):w[m]=E)}y&&Object.defineProperty(y,o.name,w),S=!0}function ah(l,n,i){for(var o=arguments.length>2,a=0;a<n.length;a++)i=o?n[a].call(l,i):n[a].call(l);return o?i:void 0}function uh(l){return typeof l=="symbol"?l:"".concat(l)}function ch(l,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function dh(l,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,n)}function K(l,n,i,o){function a(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function f(w){try{y(o.next(w))}catch(E){h(E)}}function m(w){try{y(o.throw(w))}catch(E){h(E)}}function y(w){w.done?c(w.value):a(w.value).then(f,m)}y((o=o.apply(l,n||[])).next())})}function hh(l,n){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=f(0),h.throw=f(1),h.return=f(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(y){return function(w){return m([y,w])}}function m(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(i=0)),i;)try{if(o=1,a&&(c=y[0]&2?a.return:y[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,y[1])).done)return c;switch(a=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,a=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){i.label=y[1];break}if(y[0]===6&&i.label<c[1]){i.label=c[1],c=y;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(y);break}c[2]&&i.ops.pop(),i.trys.pop();continue}y=n.call(l,i)}catch(w){y=[6,w],a=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var qs=Object.create?(function(l,n,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(n,i);(!a||("get"in a?!n.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(l,o,a)}):(function(l,n,i,o){o===void 0&&(o=i),l[o]=n[i]});function fh(l,n){for(var i in l)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&qs(n,l,i)}function Fs(l){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&l[n],o=0;if(i)return i.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&o>=l.length&&(l=void 0),{value:l&&l[o++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ma(l,n){var i=typeof Symbol=="function"&&l[Symbol.iterator];if(!i)return l;var o=i.call(l),a,c=[],h;try{for(;(n===void 0||n-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(f){h={error:f}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(h)throw h.error}}return c}function ph(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(ma(arguments[n]));return l}function gh(){for(var l=0,n=0,i=arguments.length;n<i;n++)l+=arguments[n].length;for(var o=Array(l),a=0,n=0;n<i;n++)for(var c=arguments[n],h=0,f=c.length;h<f;h++,a++)o[a]=c[h];return o}function mh(l,n,i){if(i||arguments.length===2)for(var o=0,a=n.length,c;o<a;o++)(c||!(o in n))&&(c||(c=Array.prototype.slice.call(n,0,o)),c[o]=n[o]);return l.concat(c||Array.prototype.slice.call(n))}function xr(l){return this instanceof xr?(this.v=l,this):new xr(l)}function yh(l,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(l,n||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",h),a[Symbol.asyncIterator]=function(){return this},a;function h(k){return function(T){return Promise.resolve(T).then(k,E)}}function f(k,T){o[k]&&(a[k]=function(R){return new Promise(function(O,z){c.push([k,R,O,z])>1||m(k,R)})},T&&(a[k]=T(a[k])))}function m(k,T){try{y(o[k](T))}catch(R){S(c[0][3],R)}}function y(k){k.value instanceof xr?Promise.resolve(k.value.v).then(w,E):S(c[0][2],k)}function w(k){m("next",k)}function E(k){m("throw",k)}function S(k,T){k(T),c.shift(),c.length&&m(c[0][0],c[0][1])}}function vh(l){var n,i;return n={},o("next"),o("throw",function(a){throw a}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(a,c){n[a]=l[a]?function(h){return(i=!i)?{value:xr(l[a](h)),done:!1}:c?c(h):h}:c}}function wh(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],i;return n?n.call(l):(l=typeof Fs=="function"?Fs(l):l[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(c){i[c]=l[c]&&function(h){return new Promise(function(f,m){h=l[c](h),a(f,m,h.done,h.value)})}}function a(c,h,f,m){Promise.resolve(m).then(function(y){c({value:y,done:f})},h)}}function _h(l,n){return Object.defineProperty?Object.defineProperty(l,"raw",{value:n}):l.raw=n,l}var ig=Object.create?(function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}):function(l,n){l.default=n},ra=function(l){return ra=Object.getOwnPropertyNames||function(n){var i=[];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[i.length]=o);return i},ra(l)};function xh(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var i=ra(l),o=0;o<i.length;o++)i[o]!=="default"&&qs(n,l,i[o]);return ig(n,l),n}function Sh(l){return l&&l.__esModule?l:{default:l}}function kh(l,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?l!==n||!o:!n.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(l):o?o.value:n.get(l)}function Eh(l,n,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?l!==n||!a:!n.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(l,i):a?a.value=i:n.set(l,i),i}function bh(l,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?n===l:l.has(n)}function jh(l,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var o,a;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=n[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=n[Symbol.dispose],i&&(a=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");a&&(o=function(){try{a.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:n,dispose:o,async:i})}else i&&l.stack.push({async:!0});return n}var sg=typeof SuppressedError=="function"?SuppressedError:function(l,n,i){var o=new Error(i);return o.name="SuppressedError",o.error=l,o.suppressed=n,o};function Ch(l){function n(c){l.error=l.hasError?new sg(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var i,o=0;function a(){for(;i=l.stack.pop();)try{if(!i.async&&o===1)return o=0,l.stack.push(i),Promise.resolve().then(a);if(i.dispose){var c=i.dispose.call(i.value);if(i.async)return o|=2,Promise.resolve(c).then(a,function(h){return n(h),a()})}else o|=1}catch(h){n(h)}if(o===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return a()}function Th(l,n){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,o,a,c,h){return o?n?".jsx":".js":a&&(!c||!h)?i:a+c+"."+h.toLowerCase()+"js"}):l}const og={__extends:ih,__assign:Bs,__rest:kr,__decorate:sh,__param:oh,__esDecorate:lh,__runInitializers:ah,__propKey:uh,__setFunctionName:ch,__metadata:dh,__awaiter:K,__generator:hh,__createBinding:qs,__exportStar:fh,__values:Fs,__read:ma,__spread:ph,__spreadArrays:gh,__spreadArray:mh,__await:xr,__asyncGenerator:yh,__asyncDelegator:vh,__asyncValues:wh,__makeTemplateObject:_h,__importStar:xh,__importDefault:Sh,__classPrivateFieldGet:kh,__classPrivateFieldSet:Eh,__classPrivateFieldIn:bh,__addDisposableResource:jh,__disposeResources:Ch,__rewriteRelativeImportExtension:Th},lg=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jh,get __assign(){return Bs},__asyncDelegator:vh,__asyncGenerator:yh,__asyncValues:wh,__await:xr,__awaiter:K,__classPrivateFieldGet:kh,__classPrivateFieldIn:bh,__classPrivateFieldSet:Eh,__createBinding:qs,__decorate:sh,__disposeResources:Ch,__esDecorate:lh,__exportStar:fh,__extends:ih,__generator:hh,__importDefault:Sh,__importStar:xh,__makeTemplateObject:_h,__metadata:dh,__param:oh,__propKey:uh,__read:ma,__rest:kr,__rewriteRelativeImportExtension:Th,__runInitializers:ah,__setFunctionName:ch,__spread:ph,__spreadArray:mh,__spreadArrays:gh,__values:Fs,default:og},Symbol.toStringTag,{value:"Module"})),ag="modulepreload",ug=function(l){return"/"+l},Td={},Er=function(n,i,o){let a=Promise.resolve();if(i&&i.length>0){let h=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");a=h(i.map(y=>{if(y=ug(y),y in Td)return;Td[y]=!0;const w=y.endsWith(".css"),E=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const S=document.createElement("link");if(S.rel=w?"stylesheet":ag,w||(S.as="script"),S.crossOrigin="",S.href=y,m&&S.setAttribute("nonce",m),document.head.appendChild(S),w)return new Promise((k,T)=>{S.addEventListener("load",k),S.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return a.then(h=>{for(const f of h||[])f.status==="rejected"&&c(f.reason);return n().catch(c)})},cg=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...i)=>Er(async()=>{const{default:o}=await Promise.resolve().then(()=>Fn);return{default:o}},void 0).then(({default:o})=>o(...i)):n=fetch,(...i)=>n(...i)};class ya extends Error{constructor(n,i="FunctionsError",o){super(n),this.name=i,this.context=o}}class Od extends ya{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Pd extends ya{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Rd extends ya{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var ia;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(ia||(ia={}));class dg{constructor(n,{headers:i={},customFetch:o,region:a=ia.Any}={}){this.url=n,this.headers=i,this.region=a,this.fetch=cg(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return K(this,arguments,void 0,function*(i,o={}){var a;try{const{headers:c,method:h,body:f,signal:m}=o;let y={},{region:w}=o;w||(w=this.region);const E=new URL(`${this.url}/${i}`);w&&w!=="any"&&(y["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let S;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(y["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(y["Content-Type"]="application/json",S=JSON.stringify(f)):S=f;const k=yield this.fetch(E.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:S,signal:m}).catch(z=>{throw z.name==="AbortError"?z:new Od(z)}),T=k.headers.get("x-relay-error");if(T&&T==="true")throw new Pd(k);if(!k.ok)throw new Rd(k);let R=((a=k.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield k.json():R==="application/octet-stream"||R==="application/pdf"?O=yield k.blob():R==="text/event-stream"?O=k:R==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new Od(c)}:{data:null,error:c,response:c instanceof Rd||c instanceof Pd?c.context:void 0}}})}}var Qe={};const br=rh(lg);var Rs={},As={},Is={},Ds={},Ns={},hg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sr=hg();const fg=Sr.fetch,Oh=Sr.fetch.bind(Sr),Ph=Sr.Headers,pg=Sr.Request,gg=Sr.Response,Fn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ph,Request:pg,Response:gg,default:Oh,fetch:fg},Symbol.toStringTag,{value:"Module"})),mg=rh(Fn);var Ls={},Ad;function Rh(){if(Ad)return Ls;Ad=1,Object.defineProperty(Ls,"__esModule",{value:!0});class l extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Ls.default=l,Ls}var Id;function Ah(){if(Id)return Ns;Id=1,Object.defineProperty(Ns,"__esModule",{value:!0});const l=br,n=l.__importDefault(mg),i=l.__importDefault(Rh());class o{constructor(c){var h,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(h=c.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=new Headers(this.headers),this.headers.set(c,h),this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var w,E,S,k;let T=null,R=null,O=null,z=y.status,B=y.statusText;if(y.ok){if(this.method!=="HEAD"){const ie=await y.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((w=this.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?R=ie:R=JSON.parse(ie))}const J=(E=this.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),fe=(S=y.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");J&&fe&&fe.length>1&&(O=parseInt(fe[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,z=406,B="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const J=await y.text();try{T=JSON.parse(J),Array.isArray(T)&&y.status===404&&(R=[],T=null,z=200,B="OK")}catch{y.status===404&&J===""?(z=204,B="No Content"):T={message:J}}if(T&&this.isMaybeSingle&&(!((k=T?.details)===null||k===void 0)&&k.includes("0 rows"))&&(T=null,z=200,B="OK"),T&&this.shouldThrowOnError)throw new i.default(T)}return{error:T,data:R,count:O,status:z,statusText:B}});return this.shouldThrowOnError||(m=m.catch(y=>{var w,E,S;return{error:{message:`${(w=y?.name)!==null&&w!==void 0?w:"FetchError"}: ${y?.message}`,details:`${(E=y?.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(S=y?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,h)}returns(){return this}overrideTypes(){return this}}return Ns.default=o,Ns}var Dd;function Ih(){if(Dd)return Ds;Dd=1,Object.defineProperty(Ds,"__esModule",{value:!0});const n=br.__importDefault(Ah());class i extends n.default{select(a){let c=!1;const h=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:c=!0,nullsFirst:h,foreignTable:f,referencedTable:m=f}={}){const y=m?`${m}.order`:"order",w=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${w?`${w},`:""}${a}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:c,referencedTable:h=c}={}){const f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,c,{foreignTable:h,referencedTable:f=h}={}){const m=typeof f>"u"?"offset":`${f}.offset`,y=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${a}`),this.url.searchParams.set(y,`${c-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:c=!1,settings:h=!1,buffers:f=!1,wal:m=!1,format:y="text"}={}){var w;const E=[a?"analyze":null,c?"verbose":null,h?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(w=this.headers.get("Accept"))!==null&&w!==void 0?w:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${S}"; options=${E};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Ds.default=i,Ds}var Nd;function va(){if(Nd)return Is;Nd=1,Object.defineProperty(Is,"__esModule",{value:!0});const n=br.__importDefault(Ih());class i extends n.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const h=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${h})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:h,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(a,`${m}fts${y}.${c}`),this}match(a){return Object.entries(a).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(a,c,h){return this.url.searchParams.append(a,`not.${c}.${h}`),this}or(a,{foreignTable:c,referencedTable:h=c}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,c,h){return this.url.searchParams.append(a,`${c}.${h}`),this}}return Is.default=i,Is}var Ld;function Dh(){if(Ld)return As;Ld=1,Object.defineProperty(As,"__esModule",{value:!0});const n=br.__importDefault(va());class i{constructor(a,{headers:c={},schema:h,fetch:f}){this.url=a,this.headers=new Headers(c),this.schema=h,this.fetch=f}select(a,c){const{head:h=!1,count:f}=c??{},m=h?"HEAD":"GET";let y=!1;const w=(a??"*").split("").map(E=>/\s/.test(E)&&!y?"":(E==='"'&&(y=!y),E)).join("");return this.url.searchParams.set("select",w),f&&this.headers.append("Prefer",`count=${f}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:c,defaultToNull:h=!0}={}){var f;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((w,E)=>w.concat(Object.keys(E)),[]);if(y.length>0){const w=[...new Set(y)].map(E=>`"${E}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:c,ignoreDuplicates:h=!1,count:f,defaultToNull:m=!0}={}){var y;const w="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const E=a.reduce((S,k)=>S.concat(Object.keys(k)),[]);if(E.length>0){const S=[...new Set(E)].map(k=>`"${k}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(a,{count:c}={}){var h;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:a}={}){var c;const h="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return As.default=i,As}var $d;function yg(){if($d)return Rs;$d=1,Object.defineProperty(Rs,"__esModule",{value:!0});const l=br,n=l.__importDefault(Dh()),i=l.__importDefault(va());class o{constructor(c,{headers:h={},schema:f,fetch:m}={}){this.url=c,this.headers=new Headers(h),this.schemaName=f,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:f=!1,get:m=!1,count:y}={}){var w;let E;const S=new URL(`${this.url}/rpc/${c}`);let k;f||m?(E=f?"HEAD":"GET",Object.entries(h).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{S.searchParams.append(R,O)})):(E="POST",k=h);const T=new Headers(this.headers);return y&&T.set("Prefer",`count=${y}`),new i.default({method:E,url:S,headers:T,schema:this.schemaName,body:k,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}}return Rs.default=o,Rs}var zd;function vg(){if(zd)return Qe;zd=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const l=br,n=l.__importDefault(yg());Qe.PostgrestClient=n.default;const i=l.__importDefault(Dh());Qe.PostgrestQueryBuilder=i.default;const o=l.__importDefault(va());Qe.PostgrestFilterBuilder=o.default;const a=l.__importDefault(Ih());Qe.PostgrestTransformBuilder=a.default;const c=l.__importDefault(Ah());Qe.PostgrestBuilder=c.default;const h=l.__importDefault(Rh());return Qe.PostgrestError=h.default,Qe.default={PostgrestClient:n.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:c.default,PostgrestError:h.default},Qe}var wg=vg();const _g=Gp(wg),{PostgrestClient:xg,PostgrestQueryBuilder:Uy,PostgrestFilterBuilder:By,PostgrestTransformBuilder:Fy,PostgrestBuilder:My,PostgrestError:Wy}=_g;class Sg{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const o=this.getWebSocketConstructor();return new o(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const kg="2.76.1",Eg=`realtime-js/${kg}`,bg="1.0.0",sa=1e4,jg=1e3,Cg=100;var fi;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(fi||(fi={}));var Ue;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Ue||(Ue={}));var Rt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Rt||(Rt={}));var oa;(function(l){l.websocket="websocket"})(oa||(oa={}));var zn;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(zn||(zn={}));class Tg{constructor(){this.HEADER_LENGTH=1}decode(n,i){return n.constructor===ArrayBuffer?i(this._binaryDecode(n)):i(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const i=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,i,o)}_decodeBroadcast(n,i,o){const a=i.getUint8(1),c=i.getUint8(2);let h=this.HEADER_LENGTH+2;const f=o.decode(n.slice(h,h+a));h=h+a;const m=o.decode(n.slice(h,h+c));h=h+c;const y=JSON.parse(o.decode(n.slice(h,n.byteLength)));return{ref:null,topic:f,event:m,payload:y}}}class Nh{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Se||(Se={}));const Ud=(l,n,i={})=>{var o;const a=(o=i.skipTypes)!==null&&o!==void 0?o:[];return n?Object.keys(n).reduce((c,h)=>(c[h]=Og(h,l,n,a),c),{}):{}},Og=(l,n,i,o)=>{const a=n.find(f=>f.name===l),c=a?.type,h=i[l];return c&&!o.includes(c)?Lh(c,h):la(h)},Lh=(l,n)=>{if(l.charAt(0)==="_"){const i=l.slice(1,l.length);return Ig(n,i)}switch(l){case Se.bool:return Pg(n);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Rg(n);case Se.json:case Se.jsonb:return Ag(n);case Se.timestamp:return Dg(n);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return la(n);default:return la(n)}},la=l=>l,Pg=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Rg=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},Ag=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},Ig=(l,n)=>{if(typeof l!="string")return l;const i=l.length-1,o=l[i];if(l[0]==="{"&&o==="}"){let c;const h=l.slice(1,i);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(f=>Lh(n,f))}return l},Dg=l=>typeof l=="string"?l.replace(" ","T"):l,$h=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Kl{constructor(n,i,o={},a=sa){this.channel=n,this.event=i,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var o;return this._hasReceived(n)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Bd;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Bd||(Bd={}));class pi{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pi.syncState(this.state,a,c,h),this.pendingDiffs.forEach(m=>{this.state=pi.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=pi.syncDiff(this.state,a,c,h),f())}),this.onJoin((a,c,h)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:h})}),this.onLeave((a,c,h)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,o,a){const c=this.cloneDeep(n),h=this.transformState(i),f={},m={};return this.map(c,(y,w)=>{h[y]||(m[y]=w)}),this.map(h,(y,w)=>{const E=c[y];if(E){const S=w.map(O=>O.presence_ref),k=E.map(O=>O.presence_ref),T=w.filter(O=>k.indexOf(O.presence_ref)<0),R=E.filter(O=>S.indexOf(O.presence_ref)<0);T.length>0&&(f[y]=T),R.length>0&&(m[y]=R)}else f[y]=w}),this.syncDiff(c,{joins:f,leaves:m},o,a)}static syncDiff(n,i,o,a){const{joins:c,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(f,m)=>{var y;const w=(y=n[f])!==null&&y!==void 0?y:[];if(n[f]=this.cloneDeep(m),w.length>0){const E=n[f].map(k=>k.presence_ref),S=w.filter(k=>E.indexOf(k.presence_ref)<0);n[f].unshift(...S)}o(f,w,m)}),this.map(h,(f,m)=>{let y=n[f];if(!y)return;const w=m.map(E=>E.presence_ref);y=y.filter(E=>w.indexOf(E.presence_ref)<0),n[f]=y,a(f,y,m),y.length===0&&delete n[f]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(o=>i(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,o)=>{const a=n[o];return"metas"in a?i[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[o]=a,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fd;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Fd||(Fd={}));var gi;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(gi||(gi={}));var Jt;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class wa{constructor(n,i={config:{}},o){var a,c;if(this.topic=n,this.params=i,this.socket=o,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Kl(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new Nh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(h,f)=>{this._trigger(this._replyEventName(f),h)}),this.presence=new pi(this),this.broadcastEndpointURL=$h(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var o,a,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:h,presence:f,private:m}}=this.params,y=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(k=>k.filter))!==null&&a!==void 0?a:[],w=!!this.bindings[gi.PRESENCE]&&this.bindings[gi.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,E={},S={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:w}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(k=>n?.(Jt.CHANNEL_ERROR,k)),this._onClose(()=>n?.(Jt.CLOSED)),this.updateJoinPayload(Object.assign({config:S},E)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:k})=>{var T;if(this.socket.setAuth(),k===void 0){n?.(Jt.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(T=R?.length)!==null&&T!==void 0?T:0,z=[];for(let B=0;B<O;B++){const $=R[B],{filter:{event:J,schema:fe,table:ie,filter:ce}}=$,Ae=k&&k[B];if(Ae&&Ae.event===J&&Ae.schema===fe&&Ae.table===ie&&Ae.filter===ce)z.push(Object.assign(Object.assign({},$),{id:Ae.id}));else{this.unsubscribe(),this.state=Ue.errored,n?.(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,n&&n(Jt.SUBSCRIBED);return}}).receive("error",k=>{this.state=Ue.errored,n?.(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{n?.(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,o){return this.state===Ue.joined&&n===gi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,o)}async httpSend(n,i,o={}){var a;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const y=await f.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var o,a;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=y.body)===null||a===void 0?void 0:a.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,f,m;const y=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ue.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Kl(this,Rt.leave,{},n),o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(n,i,o){const a=new AbortController,c=setTimeout(()=>a.abort(),o),h=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(c),h}_push(n,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Kl(this,n,i,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Cg){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,o){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,o){var a,c;const h=n.toLocaleLowerCase(),{close:f,error:m,leave:y,join:w}=Rt;if(o&&[f,m,y,w].indexOf(h)>=0&&o!==this._joinRef())return;let S=this._onMessage(h,i,o);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(k=>{var T,R,O;return((T=k.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(R=k.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===h}).map(k=>k.callback(S,o)):(c=this.bindings[h])===null||c===void 0||c.filter(k=>{var T,R,O,z,B,$;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in k){const J=k.id,fe=(T=k.filter)===null||T===void 0?void 0:T.event;return J&&((R=i.ids)===null||R===void 0?void 0:R.includes(J))&&(fe==="*"||fe?.toLocaleLowerCase()===((O=i.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const J=(B=(z=k?.filter)===null||z===void 0?void 0:z.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return J==="*"||J===(($=i?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===h}).map(k=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:R,table:O,commit_timestamp:z,type:B,errors:$}=T;S=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:z,eventType:B,new:{},old:{},errors:$}),this._getPayloadRecords(T))}k.callback(S,o)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,o){const a=n.toLocaleLowerCase(),c={type:a,filter:i,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(n,i){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&wa.isEqual(a.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const o in n)if(n[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Rt.close,{},n)}_onError(n){this._on(Rt.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Ud(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Ud(n.columns,n.old_record)),i}}const Gl=()=>{},$s={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ng=[1e3,2e3,5e3,1e4],Lg=1e4,$g=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zg{constructor(n,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sa,this.transport=null,this.heartbeatIntervalMs=$s.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gl,this.ref=0,this.reconnectTimer=null,this.logger=Gl,this.conn=null,this.sendBuffer=[],this.serializer=new Tg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...h)=>Er(async()=>{const{default:f}=await Promise.resolve().then(()=>Fn);return{default:f}},void 0).then(({default:f})=>f(...h)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...h)=>c(...h)},!(!((o=i?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${oa.websocket}`,this.httpEndpoint=$h(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sg.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bg}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},n?this.conn.close(n,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,o){this.logger(n,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case fi.connecting:return zn.Connecting;case fi.open:return zn.Open;case fi.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const o=`realtime:${n}`,a=this.getChannels().find(c=>c.topic===o);if(a)return a;{const c=new wa(`realtime:${n}`,i,this);return this.channels.push(c),c}}push(n){const{topic:i,event:o,payload:a,ref:c}=n,h=()=>{this.encode(n,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${i} ${o} (${c})`,a),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(jg,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},$s.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:c,ref:h}=i,f=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${o} ${a} ${f}`.trim(),c),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(a,c,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Rt.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const o=n.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${n}${o}${a}`}_workerObjectUrl(n){let i;if(n)i=n;else{const o=new Blob([$g],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const a={access_token:i,version:Eg};i&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Rt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(i)}catch(a){this.log("error",`error in ${n} callback`,a)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Nh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$s.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,o,a,c,h,f,m,y,w;if(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(o=n?.timeout)!==null&&o!==void 0?o:sa,this.heartbeatIntervalMs=(a=n?.heartbeatIntervalMs)!==null&&a!==void 0?a:$s.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=n?.heartbeatCallback)!==null&&f!==void 0?f:Gl,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n?.reconnectAfterMs)!==null&&m!==void 0?m:(E=>Ng[E-1]||Lg),this.encode=(y=n?.encode)!==null&&y!==void 0?y:((E,S)=>S(JSON.stringify(E))),this.decode=(w=n?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class _a extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Oe(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class Ug extends _a{constructor(n,i,o){super(n),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aa extends _a{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const xa=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...i)=>Er(async()=>{const{default:o}=await Promise.resolve().then(()=>Fn);return{default:o}},void 0).then(({default:o})=>o(...i)):n=fetch,(...i)=>n(...i)},Bg=()=>K(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Er(()=>Promise.resolve().then(()=>Fn),void 0)).Response:Response}),ua=l=>{if(Array.isArray(l))return l.map(i=>ua(i));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([i,o])=>{const a=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[a]=ua(o)}),n},Fg=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Jl=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Mg=(l,n,i)=>K(void 0,void 0,void 0,function*(){const o=yield Bg();l instanceof o&&!i?.noResolveJson?l.json().then(a=>{const c=l.status||500,h=a?.statusCode||c+"";n(new Ug(Jl(a),c,h))}).catch(a=>{n(new aa(Jl(a),a))}):n(new aa(Jl(l),l))}),Wg=(l,n,i,o)=>{const a={method:l,headers:n?.headers||{}};return l==="GET"||!o?a:(Fg(o)?(a.headers=Object.assign({"Content-Type":"application/json"},n?.headers),a.body=JSON.stringify(o)):a.body=o,n?.duplex&&(a.duplex=n.duplex),Object.assign(Object.assign({},a),i))};function wi(l,n,i,o,a,c){return K(this,void 0,void 0,function*(){return new Promise((h,f)=>{l(i,Wg(n,o,a,c)).then(m=>{if(!m.ok)throw m;return o?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>Mg(m,f,o))})})}function mi(l,n,i,o){return K(this,void 0,void 0,function*(){return wi(l,"GET",n,i,o)})}function Pt(l,n,i,o,a){return K(this,void 0,void 0,function*(){return wi(l,"POST",n,o,a,i)})}function ca(l,n,i,o,a){return K(this,void 0,void 0,function*(){return wi(l,"PUT",n,o,a,i)})}function Vg(l,n,i,o){return K(this,void 0,void 0,function*(){return wi(l,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function Sa(l,n,i,o,a){return K(this,void 0,void 0,function*(){return wi(l,"DELETE",n,o,a,i)})}class Hg{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}}var zh;class qg{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[zh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hg(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}}zh=Symbol.toStringTag;const Kg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Md={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gg{constructor(n,i={},o,a){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=o,this.fetch=xa(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,o,a){return K(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Md),a);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=o,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const y=this._removeEmptyFolders(i),w=this._getFinalPath(y),E=yield(n=="PUT"?ca:Pt)(this.fetch,`${this.url}/object/${w}`,c,Object.assign({headers:f},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:E.Id,fullPath:E.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}})}upload(n,i,o){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,o)})}uploadToSignedUrl(n,i,o,a){return K(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${h}`);f.searchParams.set("token",i);try{let m;const y=Object.assign({upsert:Md.upsert},a),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",y.cacheControl)):(m=o,w["cache-control"]=`max-age=${y.cacheControl}`,w["content-type"]=y.contentType);const E=yield ca(this.fetch,f.toString(),m,{headers:w});return{data:{path:c,fullPath:E.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Oe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,i){return K(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const a=Object.assign({},this.headers);i?.upsert&&(a["x-upsert"]="true");const c=yield Pt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),h=new URL(this.url+c.url),f=h.searchParams.get("token");if(!f)throw new _a("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:f},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}update(n,i,o){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,o)})}move(n,i,o){return K(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}copy(n,i,o){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}createSignedUrl(n,i,o){return K(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),c=yield Pt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}createSignedUrls(n,i,o){return K(this,void 0,void 0,function*(){try{const a=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),c=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}download(n,i){const a=typeof i?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(i?.transform||{}),h=c?`?${c}`:"",f=this._getFinalPath(n),m=()=>mi(this.fetch,`${this.url}/${a}/${f}${h}`,{headers:this.headers,noResolveJson:!0});return new qg(m,this.shouldThrowOnError)}info(n){return K(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const o=yield mi(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:ua(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}exists(n){return K(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield Vg(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o)&&o instanceof aa){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,i){const o=this._getFinalPath(n),a=[],c=i?.download?`download=${i.download===!0?"":i.download}`:"";c!==""&&a.push(c);const f=typeof i?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(i?.transform||{});m!==""&&a.push(m);let y=a.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${y}`)}}}remove(n){return K(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}list(n,i,o){return K(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Kg),i),{prefix:n||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}listV2(n,i){return K(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield Pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Uh="2.76.1",Bh={"X-Client-Info":`storage-js/${Uh}`};class Jg{constructor(n,i={},o,a){this.shouldThrowOnError=!1;const c=new URL(n);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),i),this.fetch=xa(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return K(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}getBucket(n){return K(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}createBucket(n){return K(this,arguments,void 0,function*(i,o={public:!1}){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}updateBucket(n,i){return K(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}emptyBucket(n){return K(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}deleteBucket(n){return K(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}}class Qg{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),i),this.fetch=xa(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return K(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}listBuckets(n){return K(this,void 0,void 0,function*(){try{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const o=i.toString(),a=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`,c=yield mi(this.fetch,a,{headers:this.headers});return{data:Array.isArray(c)?c.filter(f=>f.type==="ANALYTICS"):[],error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}deleteBucket(n){return K(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}}const ka={"X-Client-Info":`storage-js/${Uh}`,"Content-Type":"application/json"};class Fh extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ft(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Ql extends Fh{constructor(n,i,o){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yg extends Fh{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var Wd;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Wd||(Wd={}));const Ea=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...i)=>Er(async()=>{const{default:o}=await Promise.resolve().then(()=>Fn);return{default:o}},void 0).then(({default:o})=>o(...i)):n=fetch,(...i)=>n(...i)},Xg=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Vd=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Zg=(l,n,i)=>K(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!i?.noResolveJson){const a=l.status||500,c=l;if(typeof c.json=="function")c.json().then(h=>{const f=h?.statusCode||h?.code||a+"";n(new Ql(Vd(h),a,f))}).catch(()=>{const h=a+"",f=c.statusText||`HTTP ${a} error`;n(new Ql(f,a,h))});else{const h=a+"",f=c.statusText||`HTTP ${a} error`;n(new Ql(f,a,h))}}else n(new Yg(Vd(l),l))}),em=(l,n,i,o)=>{const a={method:l,headers:n?.headers||{}};return o?(Xg(o)?(a.headers=Object.assign({"Content-Type":"application/json"},n?.headers),a.body=JSON.stringify(o)):a.body=o,Object.assign(Object.assign({},a),i)):a};function tm(l,n,i,o,a,c){return K(this,void 0,void 0,function*(){return new Promise((h,f)=>{l(i,em(n,o,a,c)).then(m=>{if(!m.ok)throw m;if(o?.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>Zg(m,f,o))})})}function pt(l,n,i,o,a){return K(this,void 0,void 0,function*(){return tm(l,"POST",n,o,a,i)})}class nm{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ka),i),this.fetch=Ea(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return K(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}getIndex(n,i){return K(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}listIndexes(n){return K(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return K(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}}class rm{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ka),i),this.fetch=Ea(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return K(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}getVectors(n){return K(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}listVectors(n){return K(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield pt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}queryVectors(n){return K(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}deleteVectors(n){return K(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}}class im{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ka),i),this.fetch=Ea(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return K(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}getBucket(n){return K(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}listBuckets(){return K(this,arguments,void 0,function*(n={}){try{return{data:yield pt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}deleteBucket(n){return K(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}}class sm extends im{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new om(this.url,this.headers,n,this.fetch)}}class om extends nm{constructor(n,i,o,a){super(n,i,a),this.vectorBucketName=o}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new lm(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class lm extends rm{constructor(n,i,o,a,c){super(n,i,c),this.vectorBucketName=o,this.indexName=a}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class am extends Jg{constructor(n,i={},o,a){super(n,i,o,a)}from(n){return new Gg(this.url,this.headers,n,this.fetch)}get vectors(){return new sm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qg(this.url+"/iceberg",this.headers,this.fetch)}}const um="2.76.1";let hi="";typeof Deno<"u"?hi="deno":typeof document<"u"?hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hi="react-native":hi="node";const cm={"X-Client-Info":`supabase-js-${hi}/${um}`},dm={headers:cm},hm={schema:"public"},fm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pm={},gm=l=>{let n;return l?n=l:typeof fetch>"u"?n=Oh:n=fetch,(...i)=>n(...i)},mm=()=>typeof Headers>"u"?Ph:Headers,ym=(l,n,i)=>{const o=gm(i),a=mm();return async(c,h)=>{var f;const m=(f=await n())!==null&&f!==void 0?f:l;let y=new a(h?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),o(c,Object.assign(Object.assign({},h),{headers:y}))}};function vm(l){return l.endsWith("/")?l:l+"/"}function wm(l,n){var i,o;const{db:a,auth:c,realtime:h,global:f}=l,{db:m,auth:y,realtime:w,global:E}=n,S={db:Object.assign(Object.assign({},m),a),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},w),h),storage:{},global:Object.assign(Object.assign(Object.assign({},E),f),{headers:Object.assign(Object.assign({},(i=E?.headers)!==null&&i!==void 0?i:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return l.accessToken?S.accessToken=l.accessToken:delete S.accessToken,S}function _m(l){const n=l?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vm(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Mh="2.76.1",vr=30*1e3,da=3,Yl=da*vr,xm="http://localhost:9999",Sm="supabase.auth.token",km={"X-Client-Info":`gotrue-js/${Mh}`},ha="X-Supabase-Api-Version",Wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Em=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bm=600*1e3;class yi extends Error{constructor(n,i,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function Z(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class jm extends yi{constructor(n,i,o){super(n,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function Cm(l){return Z(l)&&l.name==="AuthApiError"}class Un extends yi{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class _n extends yi{constructor(n,i,o,a){super(n,o,a),this.name=i,this.status=o}}class vn extends _n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tm(l){return Z(l)&&l.name==="AuthSessionMissingError"}class fr extends _n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends _n{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Us extends _n{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Om(l){return Z(l)&&l.name==="AuthImplicitGrantRedirectError"}class Hd extends _n{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fa extends _n{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Xl(l){return Z(l)&&l.name==="AuthRetryableFetchError"}class qd extends _n{constructor(n,i,o){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class pa extends _n{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kd=` 	
\r=`.split(""),Pm=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<Kd.length;n+=1)l[Kd[n].charCodeAt(0)]=-2;for(let n=0;n<Ms.length;n+=1)l[Ms[n].charCodeAt(0)]=n;return l})();function Gd(l,n,i){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(Ms[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(Ms[o]),n.queuedBits-=6}}function Vh(l,n,i){const o=Pm[l];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Jd(l){const n=[],i=h=>{n.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=h=>{Im(h,o,i)};for(let h=0;h<l.length;h+=1)Vh(l.charCodeAt(h),a,c);return n.join("")}function Rm(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Am(l,n){for(let i=0;i<l.length;i+=1){let o=l.charCodeAt(i);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(l.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}Rm(o,n)}}function Im(l,n,i){if(n.utf8seq===0){if(l<=127){i(l);return}for(let o=1;o<6;o+=1)if((l>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function _r(l){const n=[],i={queue:0,queuedBits:0},o=a=>{n.push(a)};for(let a=0;a<l.length;a+=1)Vh(l.charCodeAt(a),i,o);return new Uint8Array(n)}function Dm(l){const n=[];return Am(l,i=>n.push(i)),new Uint8Array(n)}function Bn(l){const n=[],i={queue:0,queuedBits:0},o=a=>{n.push(a)};return l.forEach(a=>Gd(a,i,o)),Gd(null,i,o),n.join("")}function Nm(l){return Math.round(Date.now()/1e3)+l}function Lm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const n=Math.random()*16|0;return(l=="x"?n:n&3|8).toString(16)})}const ht=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Hh=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function $m(l){const n={},i=new URL(l);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,c)=>{n[c]=a})}catch{}return i.searchParams.forEach((o,a)=>{n[a]=o}),n}const qh=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...i)=>Er(async()=>{const{default:o}=await Promise.resolve().then(()=>Fn);return{default:o}},void 0).then(({default:o})=>o(...i)):n=fetch,(...i)=>n(...i)},zm=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",wr=async(l,n,i)=>{await l.setItem(n,JSON.stringify(i))},Ln=async(l,n)=>{const i=await l.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},mn=async(l,n)=>{await l.removeItem(n)};class Ks{constructor(){this.promise=new Ks.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Ks.promiseConstructor=Promise;function Zl(l){const n=l.split(".");if(n.length!==3)throw new pa("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!Em.test(n[o]))throw new pa("JWT not in base64url format");return{header:JSON.parse(Jd(n[0])),payload:JSON.parse(Jd(n[1])),signature:_r(n[2]),raw:{header:n[0],payload:n[1]}}}async function Um(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function Bm(l,n){return new Promise((o,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await l(c);if(!n(c,null,h)){o(h);return}}catch(h){if(!n(c,h)){a(h);return}}})()})}function Fm(l){return("0"+l.toString(16)).substr(-2)}function Mm(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let a="";for(let c=0;c<56;c++)a+=i.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(n),Array.from(n,Fm).join("")}async function Wm(l){const i=new TextEncoder().encode(l),o=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function Vm(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const i=await Wm(l);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(l,n,i=!1){const o=Mm();let a=o;i&&(a+="/PASSWORD_RECOVERY"),await wr(l,`${n}-code-verifier`,a);const c=await Vm(o);return[c,o===c?"plain":"s256"]}const Hm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qm(l){const n=l.headers.get(ha);if(!n||!n.match(Hm))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Km(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function Gm(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(l){if(!Jm.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ea(){const l={};return new Proxy(l,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qd(l){return JSON.parse(JSON.stringify(l))}const $n=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Qm=[502,503,504];async function Yd(l){var n;if(!zm(l))throw new fa($n(l),0);if(Qm.includes(l.status))throw new fa($n(l),l.status);let i;try{i=await l.json()}catch(c){throw new Un($n(c),c)}let o;const a=qm(l);if(a&&a.getTime()>=Wh["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new qd($n(i),l.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new vn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new qd($n(i),l.status,i.weak_password.reasons);throw new jm($n(i),l.status||500,o)}const Ym=(l,n,i,o)=>{const a={method:l,headers:n?.headers||{}};return l==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),i))};async function oe(l,n,i,o){var a;const c=Object.assign({},o?.headers);c[ha]||(c[ha]=Wh["2024-01-01"].name),o?.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(h.redirect_to=o.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Xm(l,n,i+f,{headers:c,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(m):{data:Object.assign({},m),error:null}}async function Xm(l,n,i,o,a,c){const h=Ym(n,o,a,c);let f;try{f=await l(i,Object.assign({},h))}catch(m){throw console.error(m),new fa($n(m),0)}if(f.ok||await Yd(f),o?.noResolveJson)return f;try{return await f.json()}catch(m){await Yd(m)}}function Ot(l){var n;let i=null;ty(l)&&(i=Object.assign({},l),l.expires_at||(i.expires_at=Nm(l.expires_in)));const o=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:i,user:o},error:null}}function Xd(l){const n=Ot(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(n.data.weak_password=l.weak_password),n}function wn(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function Zm(l){return{data:l,error:null}}function ey(l){const{action_link:n,email_otp:i,hashed_token:o,redirect_to:a,verification_type:c}=l,h=kr(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:i,hashed_token:o,redirect_to:a,verification_type:c},m=Object.assign({},h);return{data:{properties:f,user:m},error:null}}function Zd(l){return l}function ty(l){return l.access_token&&l.refresh_token&&l.expires_in}const ta=["global","local","others"];class ny{constructor({url:n="",headers:i={},fetch:o}){this.url=n,this.headers=i,this.fetch=qh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=ta[0]){if(ta.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ta.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Z(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,i={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:wn})}catch(o){if(Z(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:i}=n,o=kr(n,["options"]),a=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ey,redirectTo:i?.redirectTo})}catch(i){if(Z(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:wn})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,o,a,c,h,f,m;try{const y={nextPage:null,lastPage:0,total:0},w=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=n?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Zd});if(w.error)throw w.error;const E=await w.json(),S=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(m=(f=w.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return k.length>0&&(k.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);y[`${O}Page`]=R}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(Z(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){gr(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:wn})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){gr(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:wn})}catch(o){if(Z(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,i=!1){gr(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:wn})}catch(o){if(Z(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){gr(n.userId);try{const{data:i,error:o}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:o}}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _deleteFactor(n){gr(n.userId),gr(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,o,a,c,h,f,m;try{const y={nextPage:null,lastPage:0,total:0},w=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=n?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Zd});if(w.error)throw w.error;const E=await w.json(),S=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(m=(f=w.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return k.length>0&&(k.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);y[`${O}Page`]=R}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(Z(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}}function eh(l={}){return{getItem:n=>l[n]||null,setItem:(n,i)=>{l[n]=i},removeItem:n=>{delete l[n]}}}const mr={debug:!!(globalThis&&Hh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kh extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class ry extends Kh{}async function iy(l,n,i){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,a.name);try{return await i()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,a.name)}}else{if(n===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new ry(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(mr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function sy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gh(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function oy(l){return parseInt(l,16)}function ly(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function ay(l){var n;const{chainId:i,domain:o,expirationTime:a,issuedAt:c=new Date,nonce:h,notBefore:f,requestId:m,resources:y,scheme:w,uri:E,version:S}=l;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const k=Gh(l.address),T=w?`${w}://${o}`:o,R=l.statement?`${l.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${k}

${R}`;let z=`URI: ${E}
Version: ${S}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(a&&(z+=`
Expiration Time: ${a.toISOString()}`),f&&(z+=`
Not Before: ${f.toISOString()}`),m&&(z+=`
Request ID: ${m}`),y){let B=`
Resources:`;for(const $ of y){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);B+=`
- ${$}`}z+=B}return`${O}
${z}`}class Le extends Error{constructor({message:n,code:i,cause:o,name:a}){var c;super(n,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=a??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class Ws extends Le{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function uy({error:l,options:n}){var i,o,a;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Le({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(Jh(h)){if(c.rp.id!==h)return new Le({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function cy({error:l,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Le({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const o=window.location.hostname;if(Jh(o)){if(i.rpId!==o)return new Le({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class dy{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const hy=new dy;function fy(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:i,excludeCredentials:o}=l,a=kr(l,["challenge","user","excludeCredentials"]),c=_r(n).buffer,h=Object.assign(Object.assign({},i),{id:_r(i.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:c,user:h});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const y=o[m];f.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:_r(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return f}function py(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:i}=l,o=kr(l,["challenge","allowCredentials"]),a=_r(n).buffer,c=Object.assign(Object.assign({},o),{challenge:a});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const f=i[h];c.allowCredentials[h]=Object.assign(Object.assign({},f),{id:_r(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function gy(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const i=l;return{id:l.id,rawId:l.id,response:{attestationObject:Bn(new Uint8Array(l.response.attestationObject)),clientDataJSON:Bn(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function my(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const i=l,o=l.getClientExtensionResults(),a=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Bn(new Uint8Array(a.authenticatorData)),clientDataJSON:Bn(new Uint8Array(a.clientDataJSON)),signature:Bn(new Uint8Array(a.signature)),userHandle:a.userHandle?Bn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Jh(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function th(){var l,n;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function yy(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ws("Browser returned unexpected credential type",n)}:{data:null,error:new Ws("Empty credential response",n)}}catch(n){return{data:null,error:uy({error:n,options:l})}}}async function vy(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ws("Browser returned unexpected credential type",n)}:{data:null,error:new Ws("Empty credential response",n)}}catch(n){return{data:null,error:cy({error:n,options:l})}}}const wy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},_y={userVerification:"preferred",hints:["security-key"]};function Vs(...l){const n=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of l)if(a)for(const c in a){const h=a[c];if(h!==void 0)if(Array.isArray(h))o[c]=h;else if(i(h))o[c]=h;else if(n(h)){const f=o[c];n(f)?o[c]=Vs(f,h):o[c]=Vs(h)}else o[c]=h}return o}function xy(l,n){return Vs(wy,l,n||{})}function Sy(l,n){return Vs(_y,l,n||{})}class ky{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:o,signal:a},c){try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:f};const m=a??hy.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${o}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=xy(h.webauthn.credential_options.publicKey,c?.create),{data:w,error:E}=await yy({publicKey:y,signal:m});return w?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:E}}case"request":{const y=Sy(h.webauthn.credential_options.publicKey,c?.request),{data:w,error:E}=await vy(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:m}));return w?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:E}}}}catch(h){return Z(h)?{data:null,error:h}:{data:null,error:new Un("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:o})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}},c){if(!i)return{data:null,error:new yi("rpId is required for WebAuthn authentication")};try{if(!th())return{data:null,error:new Un("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:o},signal:a},{request:c});if(!h)return{data:null,error:f};const{webauthn:m}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:o,credential_response:m.credential_response}})}catch(h){return Z(h)?{data:null,error:h}:{data:null,error:new Un("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a},c){if(!i)return{data:null,error:new yi("rpId is required for WebAuthn registration")};try{if(!th())return{data:null,error:new Un("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(w=>{var E;return(E=w.data)===null||E===void 0?void 0:E.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===n&&S.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:f};const{data:m,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:a},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(h){return Z(h)?{data:null,error:h}:{data:null,error:new Un("Unexpected error in register",h)}}}}sy();const Ey={url:xm,storageKey:Sm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:km,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nh(l,n,i){return await i()}const yr={};class vi{get jwks(){var n,i;return(i=(n=yr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=yr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{cachedAt:n})}constructor(n){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vi.nextInstanceID,vi.nextInstanceID+=1,this.instanceID>0&&ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Ey),n);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new ny({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qh(a.fetch),this.lock=a.lock||nh,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ht()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=iy:this.lock=nh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ky(this)},this.persistSession?(a.storage?this.storage=a.storage:Hh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eh(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=eh(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mh}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const i=$m(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),ht()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:c}=await this._getSessionFromURL(i,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Om(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Z(i)?{error:i}:{error:new Un("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,o,a;try{const c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=n?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ot}),{data:h,error:f}=c;if(f||!h)return{data:{user:null,session:null},error:f};const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(c){if(Z(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var i,o,a;try{let c;if("email"in n){const{email:w,password:E,options:S}=n;let k=null,T=null;this.flowType==="pkce"&&([k,T]=await pr(this.storage,this.storageKey)),c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:w,password:E,data:(i=S?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:k,code_challenge_method:T},xform:Ot})}else if("phone"in n){const{phone:w,password:E,options:S}=n;c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:E,data:(o=S?.data)!==null&&o!==void 0?o:{},channel:(a=S?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Ot})}else throw new zs("You must provide either an email or phone number and a password");const{data:h,error:f}=c;if(f||!h)return{data:{user:null,session:null},error:f};const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(c){if(Z(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let i;if("email"in n){const{email:c,password:h,options:f}=n;i=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xd})}else if("phone"in n){const{phone:c,password:h,options:f}=n;i=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xd})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new fr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(n){var i,o,a,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=n.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,o,a,c,h,f,m,y,w,E,S;let k,T;if("message"in n)k=n.message,T=n.signature;else{const{chain:R,wallet:O,statement:z,options:B}=n;let $;if(ht())if(typeof O=="object")$=O;else{const Be=window;if("ethereum"in Be&&typeof Be.ethereum=="object"&&"request"in Be.ethereum&&typeof Be.ethereum.request=="function")$=Be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=O}const J=new URL((i=B?.url)!==null&&i!==void 0?i:window.location.href),fe=await $.request({method:"eth_requestAccounts"}).then(Be=>Be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!fe||fe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ie=Gh(fe[0]);let ce=(o=B?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ce){const Be=await $.request({method:"eth_chainId"});ce=oy(Be)}const Ae={domain:J.host,address:ie,statement:z,uri:J.href,version:"1",chainId:ce,nonce:(a=B?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(h=(c=B?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(f=B?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=B?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(w=B?.signInWithEthereum)===null||w===void 0?void 0:w.resources};k=ay(Ae),T=await $.request({method:"personal_sign",params:[ly(k),ie]})}try{const{data:R,error:O}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:T},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ot});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new fr}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(Z(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(n){var i,o,a,c,h,f,m,y,w,E,S,k;let T,R;if("message"in n)T=n.message,R=n.signature;else{const{chain:O,wallet:z,statement:B,options:$}=n;let J;if(ht())if(typeof z=="object")J=z;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))J=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=z}const fe=new URL((i=$?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in J&&J.signIn){const ie=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:fe.host,uri:fe.href}),B?{statement:B}:null));let ce;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")ce=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)ce=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)T=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),R=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${fe.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${fe.href}`,`Issued At: ${(a=(o=$?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=$?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((h=$?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((f=$?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((y=$?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((E=(w=$?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||E===void 0)&&E.length?["Resources",...$.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const ie=await J.signMessage(new TextEncoder().encode(T),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=ie}}try{const{data:O,error:z}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Bn(R)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(k=n.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Ot});if(z)throw z;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new fr}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:z})}catch(O){if(Z(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(n){const i=await Ln(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(i??"").split("/");try{const{data:c,error:h}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Ot});if(await mn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new fr}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:h})}catch(c){if(Z(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:i,provider:o,token:a,access_token:c,nonce:h}=n,f=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ot}),{data:m,error:y}=f;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new fr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:y})}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(n){var i,o,a,c,h;try{if("email"in n){const{email:f,options:m}=n;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await pr(this.storage,this.storageKey));const{error:E}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:w},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in n){const{phone:f,options:m}=n,{data:y,error:w}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:w}}throw new zs("You must provide either an email or phone number.")}catch(f){if(Z(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var i,o;try{let a,c;"options"in n&&(a=(i=n.options)===null||i===void 0?void 0:i.redirectTo,c=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:f}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:Ot});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,y=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(n){var i,o,a;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await pr(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=n?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:Zm})}catch(c){if(Z(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)throw o;if(!i)throw new vn;const{error:a}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:o,type:a,options:c}=n,{error:h}=await oe(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:o,type:a,options:c}=n,{data:h,error:f}=await oe(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:f}}throw new zs("You must provide either an email or phone number and a type")}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Yl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const h=await Ln(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=ea()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,y,w)=>(!h&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,y,w))})}return{data:{session:n},error:null}}const{data:a,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:wn}):await this._useSession(async i=>{var o,a,c;const{data:h,error:f}=i;if(f)throw f;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:wn})})}catch(i){if(Z(i))return Tm(i)&&(await this._removeSession(),await mn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async o=>{const{data:a,error:c}=o;if(c)throw c;if(!a.session)throw new vn;const h=a.session;let f=null,m=null;this.flowType==="pkce"&&n.email!=null&&([f,m]=await pr(this.storage,this.storageKey));const{data:y,error:w}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:m}),jwt:h.access_token,xform:wn});if(w)throw w;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(Z(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new vn;const i=Date.now()/1e3;let o=i,a=!0,c=null;const{payload:h}=Zl(n.access_token);if(h.exp&&(o=h.exp,a=o<=i),a){const{data:f,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(n.access_token);if(m)throw m;c={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(i){if(Z(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var o;if(!n){const{data:h,error:f}=i;if(f)throw f;n=(o=h.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new vn;const{data:a,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(n,i){try{if(!ht())throw new Us("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Us(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Hd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Us("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Hd("No code detected.");const{data:B,error:$}=await this._exchangeCodeForSession(n.code);if($)throw $;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:c,refresh_token:h,expires_in:f,expires_at:m,token_type:y}=n;if(!c||!f||!h||!y)throw new Us("No session defined in URL");const w=Math.round(Date.now()/1e3),E=parseInt(f);let S=w+E;m&&(S=parseInt(m));const k=S-w;k*1e3<=vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${E}s`);const T=S-E;w-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,w):w-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,w);const{data:R,error:O}=await this._getUser(c);if(O)throw O;const z={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:E,expires_at:S,refresh_token:h,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:z,redirectType:n.type},error:null}}catch(o){if(Z(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Ln(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:a,error:c}=i;if(c)return{error:c};const h=(o=a.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:f}=await this.admin.signOut(h,n);if(f&&!(Cm(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await mn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const i=Lm(),o={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async i=>{var o,a;try{const{data:{session:c},error:h}=i;if(h)throw h;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,i={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await pr(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(Z(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:o,error:a}=await this._useSession(async c=>{var h,f,m,y,w;const{data:E,error:S}=c;if(S)throw S;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",k,{headers:this.headers,jwt:(w=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&w!==void 0?w:void 0})});if(a)throw a;return ht()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(Z(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var o;try{const{error:a,data:{session:c}}=i;if(a)throw a;const{options:h,provider:f,token:m,access_token:y,nonce:w}=n,E=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:m,access_token:y,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ot}),{data:S,error:k}=E;return k?{data:{user:null,session:null},error:k}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new fr}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:k})}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var o,a;const{data:c,error:h}=i;if(h)throw h;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await Bm(async a=>(a>0&&await Um(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ot})),(a,c)=>{const h=200*Math.pow(2,a);return c&&Xl(c)&&Date.now()+h-o<vr})}catch(o){if(this._debug(i,"error",o),Z(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",o),ht()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Ln(this.storage,this.storageKey);if(a&&this.userStorage){let h=await Ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:a.user},await wr(this.userStorage,this.storageKey+"-user",h)),a.user=(n=h?.user)!==null&&n!==void 0?n:ea()}else if(a&&!a.user&&!a.user){const h=await Ln(this.storage,this.storageKey+"-user");h&&h?.user?(a.user=h.user,await mn(this.storage,this.storageKey+"-user"),await wr(this.storage,this.storageKey,a)):a.user=ea()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const c=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Yl;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Yl}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:h}=await this._callRefreshToken(a.refresh_token);h&&(console.error(h),Xl(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(a.access_token);!f&&h?.user?(a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var i,o;if(!n)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ks;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new vn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(a,"error",c),Z(c)){const h={data:null,error:c};return Xl(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(n,i,o=!0){const a=`#_notifyAllSubscribers(${n})`;this._debug(a,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:i});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,i)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const i=Object.assign({},n),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await wr(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const c=Qd(a);await wr(this.storage,this.storageKey,c)}else{const a=Qd(i);await wr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await mn(this.storage,this.storageKey),await mn(this.storage,this.storageKey+"-code-verifier"),await mn(this.storage,this.storageKey+"-user"),this.userStorage&&await mn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),vr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-n)/vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${vr}ms, refresh threshold is ${da} ticks`),a<=da&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Kh)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,o){const a=[`provider=${encodeURIComponent(i)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await pr(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});a.push(f.toString())}if(o?.queryParams){const c=new URLSearchParams(o.queryParams);a.push(c.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${a.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var o;const{data:a,error:c}=i;return c?{data:null,error:c}:await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _enroll(n){try{return await this._useSession(async i=>{var o,a;const{data:c,error:h}=i;if(h)return{data:null,error:h};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:y}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return y?{data:null,error:y}:(n.factorType==="totp"&&m.type==="totp"&&(!((a=m?.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:c}=i;if(c)return{data:null,error:c};const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?gy(n.webauthn.credential_response):my(n.webauthn.credential_response)})}:{code:n.code}),{data:f,error:m}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(i){if(Z(i))return{data:null,error:i};throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:c}=i;if(c)return{data:null,error:c};const h=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:f}=h;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:fy(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:py(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Z(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(n){const{data:i,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=i?.factors)!==null&&n!==void 0?n:[])a.all.push(c),c.status==="verified"&&a[c.factor_type].push(c);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var i,o;const{data:{session:a},error:c}=n;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Zl(a.access_token);let f=null;h.aal&&(f=h.aal);let m=f;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(E=>E.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const w=h.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:w},error:null}}))}async fetchJwk(n,i={keys:[]}){let o=i.keys.find(f=>f.kid===n);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(f=>f.kid===n),o&&this.jwks_cached_at+bm>a)return o;const{data:c,error:h}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,o=c.keys.find(f=>f.kid===n),!o)?null:o}async getClaims(n,i={}){try{let o=n;if(!o){const{data:k,error:T}=await this.getSession();if(T||!k.session)return{data:null,error:T};o=k.session.access_token}const{header:a,payload:c,signature:h,raw:{header:f,payload:m}}=Zl(o);i?.allowExpired||Km(c.exp);const y=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!y){const{error:k}=await this.getUser(o);if(k)throw k;return{data:{claims:c,header:a,signature:h},error:null}}const w=Gm(a.alg),E=await crypto.subtle.importKey("jwk",y,w,!0,["verify"]);if(!await crypto.subtle.verify(w,E,h,Dm(`${f}.${m}`)))throw new pa("Invalid JWT signature");return{data:{claims:c,header:a,signature:h},error:null}}catch(o){if(Z(o))return{data:null,error:o};throw o}}}vi.nextInstanceID=0;const by=vi;class jy extends by{constructor(n){super(n)}}class Cy{constructor(n,i,o){var a,c,h;this.supabaseUrl=n,this.supabaseKey=i;const f=_m(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,y={db:hm,realtime:pm,auth:Object.assign(Object.assign({},fm),{storageKey:m}),global:dm},w=wm(o??{},y);this.storageKey=(a=w.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=w.global.headers)!==null&&c!==void 0?c:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(E,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=w.auth)!==null&&h!==void 0?h:{},this.headers,w.global.fetch),this.fetch=ym(i,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new xg(new URL("rest/v1",f).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new am(this.storageUrl.href,this.headers,this.fetch,o?.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new dg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,o)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:c,storageKey:h,flowType:f,lock:m,debug:y},w,E){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jy({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),w),storageKey:h,autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:c,flowType:f,lock:m,debug:y,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new zg(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o?.access_token)})}_handleTokenChanged(n,i,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ty=(l,n,i)=>new Cy(l,n,i);function Oy(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const n=l.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Oy()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ut="wwbrvzkifwdhkdezsjye",Qh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind3YnJ2emtpZndkaGtkZXpzanllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NTIxNjgsImV4cCI6MjA3NzEyODE2OH0.xHxrXBbxSbADPTXUvq3dkOMm9FsHqdC_W9FCnk_CY_o",Hs=Ty(`https://${Ut}.supabase.co`,Qh),Py=()=>{const l=["₦","$","€","£","¥","₵","₨","₺"];return g.jsxs("div",{style:yn.container,children:[g.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.9; }
          }

          @keyframes dropDown {
            0% {
              transform: translateY(-100px) rotate(0deg);
              opacity: 0;
            }
            30% {
              opacity: 1;
            }
            100% {
              transform: translateY(110vh) rotate(360deg);
              opacity: 0;
            }
          }
        `}),g.jsx("div",{style:yn.currencyContainer,children:Array.from({length:20}).map((n,i)=>{const o=l[Math.floor(Math.random()*l.length)];return g.jsx("span",{style:{...yn.currencySymbol,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*3}s`,fontSize:`${16+Math.random()*20}px`,color:Math.random()>.5?"rgba(10, 92, 54, 0.5)":"rgba(0, 0, 0, 0.3)"},children:o},i)})}),g.jsxs("div",{style:yn.logoContainer,children:[g.jsx("div",{style:yn.logo}),g.jsx("h1",{style:yn.appName,children:"NaijaTaxMate"}),g.jsx("p",{style:yn.tagline,children:"Your Trusted Tax Companion"}),g.jsx("p",{style:yn.tagline,children:"Developed by Egwi U. Kelvin"})]})]})},yn={container:{position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(180deg, #F8F9FA 0%, #E9F7EF 100%)",fontFamily:"Poppins, sans-serif"},currencyContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",zIndex:1},currencySymbol:{position:"absolute",top:"-50px",animationName:"dropDown",animationTimingFunction:"ease-in",animationIterationCount:"infinite",fontWeight:600},logoContainer:{zIndex:2,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",animation:"pulse 2s ease-in-out infinite"},logo:{marginBottom:"20px"},appName:{fontSize:"32px",fontWeight:700,color:"#0A5C36",marginBottom:"8px"},tagline:{fontSize:"14px",color:"#6C757D",margin:0}},Ry="/assets/egwiapp-C35wuQwO.jpg",Ay=({onAuth:l})=>{const[n,i]=he.useState(!0),[o,a]=he.useState({email:"",password:"",name:"",userType:"individual"}),[c,h]=he.useState(!1),[f,m]=he.useState(""),y=async w=>{w.preventDefault(),m(""),h(!0);try{if(n){const{data:E,error:S}=await Hs.auth.signInWithPassword({email:o.email,password:o.password});if(S)throw S;E.session?.access_token&&l(E.session.access_token)}else{const E=await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Qh}`},body:JSON.stringify(o)}),S=await E.json();if(!E.ok)throw new Error(S.error);const{data:k,error:T}=await Hs.auth.signInWithPassword({email:o.email,password:o.password});if(T)throw T;k.session?.access_token&&l(k.session.access_token)}}catch(E){m(E.message||"An error occurred")}finally{h(!1)}};return g.jsxs("div",{style:ye.container,children:[g.jsxs("div",{style:ye.header,children:[g.jsx("div",{style:ye.logoSmall,children:g.jsx("img",{src:Ry,alt:"NaijaTaxMate Logo",style:ye.image})}),g.jsx("h1",{style:ye.title,children:"NaijaTaxMate"}),g.jsx("p",{style:ye.subtitle,children:n?"Welcome Back":"Create Your Account"})]}),g.jsxs("form",{onSubmit:y,style:ye.form,children:[!n&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:ye.inputGroup,children:[g.jsx("label",{style:ye.label,children:"Full Name"}),g.jsx("input",{type:"text",value:o.name,onChange:w=>a({...o,name:w.target.value}),style:ye.input,required:!0,placeholder:"Enter your full name"})]}),g.jsxs("div",{style:ye.inputGroup,children:[g.jsx("label",{style:ye.label,children:"Account Type"}),g.jsxs("div",{style:ye.radioGroup,children:[g.jsxs("label",{style:ye.radioLabel,children:[g.jsx("input",{type:"radio",name:"userType",value:"individual",checked:o.userType==="individual",onChange:()=>a({...o,userType:"individual"}),style:ye.radio}),g.jsx("span",{children:"Individual Taxpayer"})]}),g.jsxs("label",{style:ye.radioLabel,children:[g.jsx("input",{type:"radio",name:"userType",value:"business",checked:o.userType==="business",onChange:()=>a({...o,userType:"business"}),style:ye.radio}),g.jsx("span",{children:"Small Business Owner"})]})]})]})]}),g.jsxs("div",{style:ye.inputGroup,children:[g.jsx("label",{style:ye.label,children:"Email Address"}),g.jsx("input",{type:"email",value:o.email,onChange:w=>a({...o,email:w.target.value}),style:ye.input,required:!0,placeholder:"your.email@example.com"})]}),g.jsxs("div",{style:ye.inputGroup,children:[g.jsx("label",{style:ye.label,children:"Password"}),g.jsx("input",{type:"password",value:o.password,onChange:w=>a({...o,password:w.target.value}),style:ye.input,required:!0,placeholder:"Enter your password",minLength:6})]}),f&&g.jsx("div",{style:ye.error,children:f}),g.jsx("button",{type:"submit",style:c?{...ye.button,...ye.buttonDisabled}:ye.button,disabled:c,children:c?"Please wait...":n?"Sign In":"Create Account"}),g.jsxs("div",{style:ye.toggle,children:[g.jsx("span",{style:ye.toggleText,children:n?"Don't have an account? ":"Already have an account? "}),g.jsx("button",{type:"button",onClick:()=>{i(!n),m("")},style:ye.toggleButton,children:n?"Sign Up":"Sign In"})]})]}),g.jsx("div",{style:ye.footer,children:g.jsx("p",{style:ye.footerText,children:"In compliance with Nigerian Tax Reform Act"})})]})},ye={container:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#F8F9FA",padding:"20px"},header:{textAlign:"center",marginBottom:"32px",marginTop:"40px"},logoSmall:{display:"inline-block",marginBottom:"16px"},image:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"16px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},title:{fontSize:"28px",fontWeight:"700",color:"#0A5C36",margin:"0 0 8px 0"},subtitle:{fontSize:"14px",color:"#6C757D",margin:0},form:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},inputGroup:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:"600",color:"#212529",marginBottom:"8px"},input:{width:"100%",padding:"12px",fontSize:"16px",border:"1px solid #DEE2E6",borderRadius:"8px",boxSizing:"border-box",outline:"none"},radioGroup:{display:"flex",flexDirection:"column",gap:"12px"},radioLabel:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#495057",cursor:"pointer"},radio:{width:"18px",height:"18px",cursor:"pointer"},button:{width:"100%",padding:"14px",fontSize:"16px",fontWeight:"600",color:"white",backgroundColor:"#0A5C36",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"8px"},buttonDisabled:{opacity:.6,cursor:"not-allowed"},error:{padding:"12px",backgroundColor:"#F8D7DA",color:"#721C24",borderRadius:"8px",fontSize:"14px",marginBottom:"16px"},toggle:{textAlign:"center",marginTop:"20px"},toggleText:{fontSize:"14px",color:"#6C757D"},toggleButton:{background:"none",border:"none",color:"#0A5C36",fontSize:"14px",fontWeight:"600",cursor:"pointer",padding:0},footer:{marginTop:"auto",paddingTop:"40px",textAlign:"center"},footerText:{fontSize:"12px",color:"#6C757D",margin:0}},Iy=({userType:l,accessToken:n})=>{const[i,o]=he.useState(""),[a,c]=he.useState(""),[h,f]=he.useState(null),[m,y]=he.useState(!1),w=()=>{const S=parseFloat(i)||0,k=parseFloat(a)||0,T=Math.max(0,S-k);let R=0,O=!1,z=0;l==="individual"?T<=8e5?(R=0,O=!0):T<=15e5?R=(T-8e5)*.07:T<=3e6?R=49e3+(T-15e5)*.11:T<=5e6?R=214e3+(T-3e6)*.15:T<=1e7?R=514e3+(T-5e6)*.19:T<=2e7?R=1464e3+(T-1e7)*.21:R=3564e3+(T-2e7)*.25:S<=5e7?(R=0,O=!0):(R=T*.3,z=T*.04),f({annualIncome:S,reliefs:k,taxableIncome:T,taxAmount:R,developmentLevy:z,totalTax:R+z,monthlyTax:(R+z)/12,exemptionApplied:O})},E=async()=>{if(h){y(!0);try{const S=await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/tax-records`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({type:"calculation",userType:l,...h})});if(S.ok)alert("Tax calculation saved successfully!");else{const k=await S.json();console.error("Error saving record:",k),alert("Failed to save record")}}catch(S){console.error("Error saving record:",S),alert("Failed to save record")}finally{y(!1)}}};return g.jsxs("div",{style:te.container,children:[g.jsxs("div",{style:te.header,children:[g.jsx("h2",{style:te.title,children:"Tax Calculator"}),g.jsxs("p",{style:te.subtitle,children:["Calculate your tax obligations as ",l==="individual"?"an individual":"a small business"]})]}),g.jsxs("div",{style:te.card,children:[g.jsxs("div",{style:te.inputGroup,children:[g.jsxs("label",{style:te.label,children:["Annual ",l==="business"?"Revenue":"Income"," (₦)"]}),g.jsx("input",{type:"number",value:i,onChange:S=>o(S.target.value),placeholder:"0",style:te.input})]}),g.jsxs("div",{style:te.inputGroup,children:[g.jsx("label",{style:te.label,children:"Tax Reliefs & Allowances (₦)"}),g.jsx("input",{type:"number",value:a,onChange:S=>c(S.target.value),placeholder:"0",style:te.input}),g.jsx("p",{style:te.hint,children:l==="individual"?"Includes: Consolidated Relief Allowance (₦200,000 + 20% of gross income), Life Assurance, NHIS, Pension":"Includes: Business expenses, depreciation, and allowable deductions"})]}),g.jsx("button",{onClick:w,style:te.calculateButton,children:"Calculate Tax"})]}),h&&g.jsxs("div",{style:te.resultCard,children:[g.jsx("h3",{style:te.resultTitle,children:"Tax Calculation Result"}),h.exemptionApplied&&g.jsxs("div",{style:te.exemptionBanner,children:["✅ ",l==="individual"?"Tax Exemption Applied - Your income is below ₦800,000 threshold":"Small Business Exemption - Your turnover is ≤ ₦50m (assumes fixed assets ≤ ₦250m)"]}),g.jsxs("div",{style:te.resultRow,children:[g.jsxs("span",{style:te.resultLabel,children:["Annual ",l==="business"?"Revenue":"Income",":"]}),g.jsxs("span",{style:te.resultValue,children:["₦",h.annualIncome.toLocaleString()]})]}),g.jsxs("div",{style:te.resultRow,children:[g.jsx("span",{style:te.resultLabel,children:"Less: Reliefs & Allowances:"}),g.jsxs("span",{style:te.resultValue,children:["₦",h.reliefs.toLocaleString()]})]}),g.jsx("div",{style:te.divider}),g.jsxs("div",{style:te.resultRow,children:[g.jsx("span",{style:te.resultLabel,children:"Taxable Income:"}),g.jsxs("span",{style:te.resultValue,children:["₦",h.taxableIncome.toLocaleString()]})]}),g.jsx("div",{style:te.divider}),g.jsxs("div",{style:te.resultRow,children:[g.jsx("span",{style:te.resultLabel,children:l==="business"?"Corporate Income Tax (CIT):":"Personal Income Tax (PIT):"}),g.jsxs("span",{style:te.resultValue,children:["₦",h.taxAmount.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l==="business"&&h.developmentLevy>0&&g.jsxs("div",{style:te.resultRow,children:[g.jsx("span",{style:te.resultLabel,children:"Development Levy (4%):"}),g.jsxs("span",{style:te.resultValue,children:["₦",h.developmentLevy.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l==="business"&&h.developmentLevy>0&&g.jsx("div",{style:te.divider}),g.jsxs("div",{style:te.resultRow,children:[g.jsx("span",{style:te.resultLabelBold,children:"Total Annual Tax Due:"}),g.jsxs("span",{style:te.resultValueBold,children:["₦",h.totalTax.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l==="individual"&&g.jsxs("div",{style:te.resultRow,children:[g.jsx("span",{style:te.resultLabel,children:"Monthly Tax (PAYE):"}),g.jsxs("span",{style:te.resultValue,children:["₦",h.monthlyTax.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),g.jsx("button",{onClick:E,style:m?{...te.saveButton,...te.saveButtonDisabled}:te.saveButton,disabled:m,children:m?"Saving...":"Save This Calculation"}),g.jsx("p",{style:te.disclaimer,children:"*This is an estimate based on the Nigerian Tax Reform Act 2025. Actual tax may vary based on your state, fixed assets (for businesses), and specific circumstances. Consult a tax professional for accurate filing."})]}),g.jsxs("div",{style:te.infoCard,children:[g.jsx("h4",{style:te.infoTitle,children:"📋 Nigerian Tax Reform Act 2025 - Key Changes"}),g.jsxs("ul",{style:te.infoList,children:[l==="individual"?g.jsxs(g.Fragment,{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Tax-Free Threshold:"})," Incomes ≤ ₦800,000/year are now tax-exempt"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Top Rate:"})," Marginal rate increased to 25% for high earners (₦20m+)"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Progressive Bands:"})," More progressive tax bands for fairer taxation"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Small Business Relief:"})," Turnover ≤ ₦50m & fixed assets ≤ ₦250m exempt from CIT"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Corporate Tax:"})," Standard CIT rate aligned with CGT at 30%"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Development Levy:"})," 4% on assessable profits (replaces multiple levies)"]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"VAT:"})," Retained at 7.5% with expanded zero-rated goods list"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"E-Invoicing:"})," Mandatory VAT e-invoicing for all registered businesses"]})]})]}),g.jsxs("div",{style:te.infoCardSecondary,children:[g.jsx("h4",{style:te.infoTitleSecondary,children:"📅 Tax Filing Deadlines"}),g.jsxs("ul",{style:te.infoListSecondary,children:[g.jsx("li",{children:"Monthly PAYE: 10th of following month"}),g.jsx("li",{children:"Annual Returns: 30th June (Individuals)"}),g.jsx("li",{children:"Annual Returns: 6 months after year-end (Companies)"}),g.jsx("li",{children:"WHT Remittance: 21 days after deduction"}),g.jsx("li",{children:"VAT Returns: 21st of the following month"})]})]})]})},te={container:{display:"flex",flexDirection:"column",gap:"20px"},header:{marginBottom:"8px"},title:{fontSize:"24px",fontWeight:"700",color:"#212529",margin:"0 0 8px 0"},subtitle:{fontSize:"14px",color:"#6C757D",margin:0},card:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},inputGroup:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:"600",color:"#212529",marginBottom:"8px"},input:{width:"100%",padding:"12px",fontSize:"16px",border:"1px solid #DEE2E6",borderRadius:"8px",boxSizing:"border-box",outline:"none"},hint:{fontSize:"12px",color:"#6C757D",margin:"8px 0 0 0",lineHeight:"1.4"},calculateButton:{width:"100%",padding:"14px",fontSize:"16px",fontWeight:"600",color:"white",backgroundColor:"#0A5C36",border:"none",borderRadius:"8px",cursor:"pointer"},resultCard:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},resultTitle:{fontSize:"18px",fontWeight:"600",color:"#212529",margin:"0 0 20px 0"},resultRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},resultLabel:{fontSize:"14px",color:"#6C757D"},resultValue:{fontSize:"14px",color:"#212529",fontWeight:"500"},resultLabelBold:{fontSize:"16px",color:"#212529",fontWeight:"700"},resultValueBold:{fontSize:"20px",color:"#0A5C36",fontWeight:"700"},divider:{height:"1px",backgroundColor:"#E9ECEF",margin:"8px 0"},saveButton:{width:"100%",padding:"12px",fontSize:"14px",fontWeight:"600",color:"#0A5C36",backgroundColor:"#E7F4EE",border:"1px solid #0A5C36",borderRadius:"8px",cursor:"pointer",marginTop:"20px"},saveButtonDisabled:{opacity:.6,cursor:"not-allowed"},disclaimer:{fontSize:"11px",color:"#6C757D",margin:"12px 0 0 0",fontStyle:"italic",lineHeight:"1.4"},infoCard:{backgroundColor:"#FFF3CD",borderRadius:"12px",padding:"16px",border:"1px solid #FFE69C"},infoTitle:{fontSize:"14px",fontWeight:"600",color:"#856404",margin:"0 0 12px 0"},infoList:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#856404",lineHeight:"1.8"},exemptionBanner:{padding:"12px 16px",backgroundColor:"#D4EDDA",color:"#155724",borderRadius:"8px",fontSize:"14px",fontWeight:"600",marginBottom:"16px",border:"1px solid #C3E6CB"},infoCardSecondary:{backgroundColor:"#E7F4EE",borderRadius:"12px",padding:"16px",border:"1px solid #B8E6CF"},infoTitleSecondary:{fontSize:"14px",fontWeight:"600",color:"#0A5C36",margin:"0 0 12px 0"},infoListSecondary:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#0A5C36",lineHeight:"1.8"}},Dy=({accessToken:l})=>{const[n,i]=he.useState([]),[o,a]=he.useState(!0),[c,h]=he.useState(!1),[f,m]=he.useState({paymentDate:"",taxType:"PAYE",amount:"",referenceNumber:"",description:""}),[y,w]=he.useState(!1);he.useEffect(()=>{E()},[]);const E=async()=>{try{const k=await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/tax-records`,{headers:{Authorization:`Bearer ${l}`}}),T=await k.json();k.ok&&T.records&&i(T.records.sort((R,O)=>new Date(O.createdAt).getTime()-new Date(R.createdAt).getTime()))}catch(k){console.error("Error fetching records:",k)}finally{a(!1)}},S=async k=>{k.preventDefault(),w(!0);try{(await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/tax-records`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({type:"payment",...f,amount:parseFloat(f.amount)})})).ok?(m({paymentDate:"",taxType:"PAYE",amount:"",referenceNumber:"",description:""}),h(!1),E()):alert("Failed to save record")}catch(T){console.error("Error saving record:",T),alert("Failed to save record")}finally{w(!1)}};return o?g.jsxs("div",{style:Q.loadingContainer,children:[g.jsx("div",{style:Q.spinner}),g.jsx("p",{children:"Loading records..."})]}):g.jsxs("div",{style:Q.container,children:[g.jsxs("div",{style:Q.header,children:[g.jsxs("div",{children:[g.jsx("h2",{style:Q.title,children:"Tax Records"}),g.jsx("p",{style:Q.subtitle,children:"Keep organized records for audits and compliance"})]}),g.jsx("button",{onClick:()=>h(!c),style:Q.addButton,children:c?"✕ Cancel":"+ Add Record"})]}),c&&g.jsxs("form",{onSubmit:S,style:Q.form,children:[g.jsx("h3",{style:Q.formTitle,children:"Add Tax Payment Record"}),g.jsxs("div",{style:Q.inputGroup,children:[g.jsx("label",{style:Q.label,children:"Payment Date"}),g.jsx("input",{type:"date",value:f.paymentDate,onChange:k=>m({...f,paymentDate:k.target.value}),style:Q.input,required:!0})]}),g.jsxs("div",{style:Q.inputGroup,children:[g.jsx("label",{style:Q.label,children:"Tax Type"}),g.jsxs("select",{value:f.taxType,onChange:k=>m({...f,taxType:k.target.value}),style:Q.input,children:[g.jsx("option",{value:"PAYE",children:"PAYE (Pay As You Earn)"}),g.jsx("option",{value:"VAT",children:"VAT (Value Added Tax)"}),g.jsx("option",{value:"WHT",children:"WHT (Withholding Tax)"}),g.jsx("option",{value:"CIT",children:"CIT (Company Income Tax)"}),g.jsx("option",{value:"Others",children:"Others"})]})]}),g.jsxs("div",{style:Q.inputGroup,children:[g.jsx("label",{style:Q.label,children:"Amount Paid (₦)"}),g.jsx("input",{type:"number",value:f.amount,onChange:k=>m({...f,amount:k.target.value}),placeholder:"0.00",style:Q.input,required:!0})]}),g.jsxs("div",{style:Q.inputGroup,children:[g.jsx("label",{style:Q.label,children:"Reference Number"}),g.jsx("input",{type:"text",value:f.referenceNumber,onChange:k=>m({...f,referenceNumber:k.target.value}),placeholder:"e.g., TXN123456789",style:Q.input,required:!0})]}),g.jsxs("div",{style:Q.inputGroup,children:[g.jsx("label",{style:Q.label,children:"Description (Optional)"}),g.jsx("textarea",{value:f.description,onChange:k=>m({...f,description:k.target.value}),placeholder:"Additional notes...",style:{...Q.input,minHeight:"80px",resize:"vertical"}})]}),g.jsx("button",{type:"submit",style:y?{...Q.submitButton,...Q.submitButtonDisabled}:Q.submitButton,disabled:y,children:y?"Saving...":"Save Record"})]}),g.jsx("div",{style:Q.recordsList,children:n.length===0?g.jsxs("div",{style:Q.emptyState,children:[g.jsx("div",{style:Q.emptyIcon,children:"📁"}),g.jsx("h3",{style:Q.emptyTitle,children:"No Records Yet"}),g.jsx("p",{style:Q.emptyText,children:"Start adding your tax payment records to keep track of your compliance history"})]}):n.map((k,T)=>g.jsx("div",{style:Q.recordCard,children:k.type==="calculation"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:Q.recordHeader,children:[g.jsx("div",{style:Q.recordIcon,children:"🧮"}),g.jsxs("div",{style:Q.recordInfo,children:[g.jsx("h4",{style:Q.recordTitle,children:"Tax Calculation"}),g.jsx("p",{style:Q.recordDate,children:new Date(k.createdAt).toLocaleDateString("en-NG",{year:"numeric",month:"long",day:"numeric"})})]})]}),g.jsxs("div",{style:Q.recordDetails,children:[g.jsxs("div",{style:Q.detailRow,children:[g.jsx("span",{children:"Annual Income:"}),g.jsxs("span",{children:["₦",k.annualIncome?.toLocaleString()]})]}),g.jsxs("div",{style:Q.detailRow,children:[g.jsx("span",{children:"Tax Amount:"}),g.jsxs("span",{style:Q.detailAmount,children:["₦",k.taxAmount?.toLocaleString("en-NG",{minimumFractionDigits:2})]})]})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:Q.recordHeader,children:[g.jsx("div",{style:Q.recordIcon,children:"💵"}),g.jsxs("div",{style:Q.recordInfo,children:[g.jsxs("h4",{style:Q.recordTitle,children:[k.taxType," Payment"]}),g.jsx("p",{style:Q.recordDate,children:new Date(k.paymentDate).toLocaleDateString("en-NG",{year:"numeric",month:"long",day:"numeric"})})]}),g.jsxs("div",{style:Q.recordAmount,children:["₦",k.amount?.toLocaleString("en-NG",{minimumFractionDigits:2})]})]}),g.jsxs("div",{style:Q.recordDetails,children:[g.jsxs("div",{style:Q.detailRow,children:[g.jsx("span",{children:"Reference:"}),g.jsx("span",{children:k.referenceNumber})]}),k.description&&g.jsxs("div",{style:Q.detailRow,children:[g.jsx("span",{children:"Note:"}),g.jsx("span",{children:k.description})]})]})]})},T))}),g.jsxs("div",{style:Q.infoCard,children:[g.jsx("h4",{style:Q.infoTitle,children:"💡 Record Keeping Tips"}),g.jsxs("ul",{style:Q.infoList,children:[g.jsx("li",{children:"Keep all records for at least 6 years as required by law"}),g.jsx("li",{children:"Include payment receipts, TIN certificates, and correspondence"}),g.jsx("li",{children:"Organize records by tax year and type"}),g.jsx("li",{children:"Maintain both digital and physical copies when possible"})]})]})]})},Q={container:{display:"flex",flexDirection:"column",gap:"20px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",gap:"16px"},spinner:{width:"32px",height:"32px",border:"3px solid #E9ECEF",borderTop:"3px solid #0A5C36",borderRadius:"50%",animation:"spin 1s linear infinite"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},title:{fontSize:"24px",fontWeight:"700",color:"#212529",margin:"0 0 8px 0"},subtitle:{fontSize:"14px",color:"#6C757D",margin:0},addButton:{padding:"10px 16px",fontSize:"14px",fontWeight:"600",color:"#0A5C36",backgroundColor:"#E7F4EE",border:"1px solid #0A5C36",borderRadius:"8px",cursor:"pointer",whiteSpace:"nowrap"},form:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},formTitle:{fontSize:"18px",fontWeight:"600",color:"#212529",margin:"0 0 20px 0"},inputGroup:{marginBottom:"16px"},label:{display:"block",fontSize:"14px",fontWeight:"600",color:"#212529",marginBottom:"8px"},input:{width:"100%",padding:"12px",fontSize:"16px",border:"1px solid #DEE2E6",borderRadius:"8px",boxSizing:"border-box",outline:"none"},submitButton:{width:"100%",padding:"14px",fontSize:"16px",fontWeight:"600",color:"white",backgroundColor:"#0A5C36",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"8px"},submitButtonDisabled:{opacity:.6,cursor:"not-allowed"},recordsList:{display:"flex",flexDirection:"column",gap:"12px"},recordCard:{backgroundColor:"white",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},recordHeader:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},recordIcon:{fontSize:"24px",flexShrink:0},recordInfo:{flex:1},recordTitle:{fontSize:"16px",fontWeight:"600",color:"#212529",margin:"0 0 4px 0"},recordDate:{fontSize:"12px",color:"#6C757D",margin:0},recordAmount:{fontSize:"18px",fontWeight:"700",color:"#0A5C36"},recordDetails:{display:"flex",flexDirection:"column",gap:"8px",paddingLeft:"36px"},detailRow:{display:"flex",justifyContent:"space-between",fontSize:"13px",color:"#6C757D"},detailAmount:{fontWeight:"600",color:"#0A5C36"},emptyState:{textAlign:"center",padding:"40px 20px",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"48px",marginBottom:"16px"},emptyTitle:{fontSize:"18px",fontWeight:"600",color:"#212529",margin:"0 0 8px 0"},emptyText:{fontSize:"14px",color:"#6C757D",margin:0,lineHeight:"1.5"},infoCard:{backgroundColor:"#E7F4EE",borderRadius:"12px",padding:"16px",border:"1px solid #B8E6CF"},infoTitle:{fontSize:"14px",fontWeight:"600",color:"#0A5C36",margin:"0 0 12px 0"},infoList:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#0A5C36",lineHeight:"1.8"}},Ny=({accessToken:l})=>{const[n,i]=he.useState([]),[o,a]=he.useState(!0),[c,h]=he.useState(!1),[f,m]=he.useState({title:"",dueDate:"",description:"",priority:"medium"}),[y,w]=he.useState(!1);he.useEffect(()=>{E()},[]);const E=async()=>{try{const O=await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/deadlines`,{headers:{Authorization:`Bearer ${l}`}}),z=await O.json();O.ok&&z.deadlines&&i(z.deadlines.sort((B,$)=>new Date(B.dueDate).getTime()-new Date($.dueDate).getTime()))}catch(O){console.error("Error fetching deadlines:",O)}finally{a(!1)}},S=async O=>{O.preventDefault(),w(!0);try{(await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/deadlines`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(f)})).ok?(m({title:"",dueDate:"",description:"",priority:"medium"}),h(!1),E()):alert("Failed to save deadline")}catch(z){console.error("Error saving deadline:",z),alert("Failed to save deadline")}finally{w(!1)}},k=O=>{const z=new Date,$=new Date(O).getTime()-z.getTime();return Math.ceil($/(1e3*60*60*24))},T=O=>O<0?re.statusOverdue:O<=7?re.statusUrgent:O<=30?re.statusSoon:re.statusOk,R=O=>O<0?`${Math.abs(O)} days overdue`:O===0?"Due today":O===1?"Due tomorrow":`${O} days remaining`;return o?g.jsxs("div",{style:re.loadingContainer,children:[g.jsx("div",{style:re.spinner}),g.jsx("p",{children:"Loading deadlines..."})]}):g.jsxs("div",{style:re.container,children:[g.jsxs("div",{style:re.header,children:[g.jsxs("div",{children:[g.jsx("h2",{style:re.title,children:"Deadline Tracker"}),g.jsx("p",{style:re.subtitle,children:"Never miss a tax filing deadline again"})]}),g.jsx("button",{onClick:()=>h(!c),style:re.addButton,children:c?"✕ Cancel":"+ Add Deadline"})]}),c&&g.jsxs("form",{onSubmit:S,style:re.form,children:[g.jsx("h3",{style:re.formTitle,children:"Add Tax Deadline"}),g.jsxs("div",{style:re.inputGroup,children:[g.jsx("label",{style:re.label,children:"Title"}),g.jsx("input",{type:"text",value:f.title,onChange:O=>m({...f,title:O.target.value}),placeholder:"e.g., Annual Tax Return Filing",style:re.input,required:!0})]}),g.jsxs("div",{style:re.inputGroup,children:[g.jsx("label",{style:re.label,children:"Due Date"}),g.jsx("input",{type:"date",value:f.dueDate,onChange:O=>m({...f,dueDate:O.target.value}),style:re.input,required:!0})]}),g.jsxs("div",{style:re.inputGroup,children:[g.jsx("label",{style:re.label,children:"Priority"}),g.jsxs("select",{value:f.priority,onChange:O=>m({...f,priority:O.target.value}),style:re.input,children:[g.jsx("option",{value:"high",children:"High"}),g.jsx("option",{value:"medium",children:"Medium"}),g.jsx("option",{value:"low",children:"Low"})]})]}),g.jsxs("div",{style:re.inputGroup,children:[g.jsx("label",{style:re.label,children:"Description (Optional)"}),g.jsx("textarea",{value:f.description,onChange:O=>m({...f,description:O.target.value}),placeholder:"Additional details about this deadline...",style:{...re.input,minHeight:"80px",resize:"vertical"}})]}),g.jsx("button",{type:"submit",style:y?{...re.submitButton,...re.submitButtonDisabled}:re.submitButton,disabled:y,children:y?"Saving...":"Save Deadline"})]}),g.jsx("div",{style:re.deadlinesList,children:n.length===0?g.jsxs("div",{style:re.emptyState,children:[g.jsx("div",{style:re.emptyIcon,children:"⏰"}),g.jsx("h3",{style:re.emptyTitle,children:"No Deadlines Set"}),g.jsx("p",{style:re.emptyText,children:"Add important tax deadlines to stay on top of your filing obligations"})]}):n.map((O,z)=>{const B=k(O.dueDate);return g.jsxs("div",{style:re.deadlineCard,children:[g.jsxs("div",{style:re.deadlineHeader,children:[g.jsxs("div",{style:re.deadlineInfo,children:[g.jsx("h4",{style:re.deadlineTitle,children:O.title}),g.jsxs("p",{style:re.deadlineDate,children:["Due: ",new Date(O.dueDate).toLocaleDateString("en-NG",{year:"numeric",month:"long",day:"numeric"})]}),O.description&&g.jsx("p",{style:re.deadlineDescription,children:O.description})]}),g.jsxs("div",{style:re.priorityBadge,children:[O.priority==="high"&&"🔴",O.priority==="medium"&&"🟡",O.priority==="low"&&"🟢"]})]}),g.jsx("div",{style:{...re.statusBadge,...T(B)},children:R(B)})]},z)})}),g.jsxs("div",{style:re.infoCard,children:[g.jsx("h4",{style:re.infoTitle,children:"🗓️ Key Tax Deadlines in Nigeria"}),g.jsxs("div",{style:re.defaultDeadlines,children:[g.jsxs("div",{style:re.defaultDeadline,children:[g.jsx("strong",{children:"Monthly PAYE:"})," 10th of the following month"]}),g.jsxs("div",{style:re.defaultDeadline,children:[g.jsx("strong",{children:"Individual Annual Returns:"})," 30th June"]}),g.jsxs("div",{style:re.defaultDeadline,children:[g.jsx("strong",{children:"Company Annual Returns:"})," 6 months after financial year-end"]}),g.jsxs("div",{style:re.defaultDeadline,children:[g.jsx("strong",{children:"WHT Remittance:"})," Within 21 days of deduction"]}),g.jsxs("div",{style:re.defaultDeadline,children:[g.jsx("strong",{children:"VAT Returns:"})," 21st of the following month"]})]})]})]})},re={container:{display:"flex",flexDirection:"column",gap:"20px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",gap:"16px"},spinner:{width:"32px",height:"32px",border:"3px solid #E9ECEF",borderTop:"3px solid #0A5C36",borderRadius:"50%",animation:"spin 1s linear infinite"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},title:{fontSize:"24px",fontWeight:"700",color:"#212529",margin:"0 0 8px 0"},subtitle:{fontSize:"14px",color:"#6C757D",margin:0},addButton:{padding:"10px 16px",fontSize:"14px",fontWeight:"600",color:"#0A5C36",backgroundColor:"#E7F4EE",border:"1px solid #0A5C36",borderRadius:"8px",cursor:"pointer",whiteSpace:"nowrap"},form:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},formTitle:{fontSize:"18px",fontWeight:"600",color:"#212529",margin:"0 0 20px 0"},inputGroup:{marginBottom:"16px"},label:{display:"block",fontSize:"14px",fontWeight:"600",color:"#212529",marginBottom:"8px"},input:{width:"100%",padding:"12px",fontSize:"16px",border:"1px solid #DEE2E6",borderRadius:"8px",boxSizing:"border-box",outline:"none"},submitButton:{width:"100%",padding:"14px",fontSize:"16px",fontWeight:"600",color:"white",backgroundColor:"#0A5C36",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"8px"},submitButtonDisabled:{opacity:.6,cursor:"not-allowed"},deadlinesList:{display:"flex",flexDirection:"column",gap:"12px"},deadlineCard:{backgroundColor:"white",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},deadlineHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},deadlineInfo:{flex:1},deadlineTitle:{fontSize:"16px",fontWeight:"600",color:"#212529",margin:"0 0 4px 0"},deadlineDate:{fontSize:"13px",color:"#6C757D",margin:"0 0 8px 0"},deadlineDescription:{fontSize:"13px",color:"#495057",margin:0,lineHeight:"1.5"},priorityBadge:{fontSize:"20px"},statusBadge:{display:"inline-block",padding:"6px 12px",fontSize:"12px",fontWeight:"600",borderRadius:"6px"},statusOverdue:{backgroundColor:"#F8D7DA",color:"#721C24"},statusUrgent:{backgroundColor:"#FFF3CD",color:"#856404"},statusSoon:{backgroundColor:"#D1ECF1",color:"#0C5460"},statusOk:{backgroundColor:"#D4EDDA",color:"#155724"},emptyState:{textAlign:"center",padding:"40px 20px",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"48px",marginBottom:"16px"},emptyTitle:{fontSize:"18px",fontWeight:"600",color:"#212529",margin:"0 0 8px 0"},emptyText:{fontSize:"14px",color:"#6C757D",margin:0,lineHeight:"1.5"},infoCard:{backgroundColor:"#E7F4EE",borderRadius:"12px",padding:"16px",border:"1px solid #B8E6CF"},infoTitle:{fontSize:"14px",fontWeight:"600",color:"#0A5C36",margin:"0 0 12px 0"},defaultDeadlines:{display:"flex",flexDirection:"column",gap:"8px"},defaultDeadline:{fontSize:"13px",color:"#0A5C36",lineHeight:"1.6"}},Ly=({accessToken:l})=>{const[n,i]=he.useState([]),[o,a]=he.useState(!0),[c,h]=he.useState(!1),[f,m]=he.useState({category:"Assessment",subject:"",description:"",taxOffice:"",referenceNumber:""}),[y,w]=he.useState(!1);he.useEffect(()=>{E()},[]);const E=async()=>{try{const T=await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/complaints`,{headers:{Authorization:`Bearer ${l}`}}),R=await T.json();T.ok&&R.complaints&&i(R.complaints.sort((O,z)=>new Date(z.createdAt).getTime()-new Date(O.createdAt).getTime()))}catch(T){console.error("Error fetching complaints:",T)}finally{a(!1)}},S=async T=>{T.preventDefault(),w(!0);try{(await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/complaints`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(f)})).ok?(m({category:"Assessment",subject:"",description:"",taxOffice:"",referenceNumber:""}),h(!1),E(),alert("Complaint submitted successfully! We will track the status for you.")):alert("Failed to submit complaint")}catch(R){console.error("Error submitting complaint:",R),alert("Failed to submit complaint")}finally{w(!1)}},k=T=>{switch(T){case"Pending":return"#FFC107";case"In Progress":return"#17A2B8";case"Resolved":return"#28A745";default:return"#6C757D"}};return o?g.jsxs("div",{style:ee.loadingContainer,children:[g.jsx("div",{style:ee.spinner}),g.jsx("p",{children:"Loading complaints..."})]}):g.jsxs("div",{style:ee.container,children:[g.jsxs("div",{style:ee.header,children:[g.jsxs("div",{children:[g.jsx("h2",{style:ee.title,children:"Tax Office Support"}),g.jsx("p",{style:ee.subtitle,children:"Submit and track complaints or inquiries"})]}),g.jsx("button",{onClick:()=>h(!c),style:ee.addButton,children:c?"✕ Cancel":"+ New Complaint"})]}),c&&g.jsxs("form",{onSubmit:S,style:ee.form,children:[g.jsx("h3",{style:ee.formTitle,children:"Submit a Complaint or Inquiry"}),g.jsxs("div",{style:ee.inputGroup,children:[g.jsx("label",{style:ee.label,children:"Category"}),g.jsxs("select",{value:f.category,onChange:T=>m({...f,category:T.target.value}),style:ee.input,children:[g.jsx("option",{value:"Assessment",children:"Tax Assessment Issue"}),g.jsx("option",{value:"Payment",children:"Payment Problem"}),g.jsx("option",{value:"Refund",children:"Refund Request"}),g.jsx("option",{value:"TIN",children:"TIN Related"}),g.jsx("option",{value:"Documentation",children:"Documentation Issue"}),g.jsx("option",{value:"Audit",children:"Audit Concerns"}),g.jsx("option",{value:"Other",children:"Other"})]})]}),g.jsxs("div",{style:ee.inputGroup,children:[g.jsx("label",{style:ee.label,children:"Subject"}),g.jsx("input",{type:"text",value:f.subject,onChange:T=>m({...f,subject:T.target.value}),placeholder:"Brief description of your issue",style:ee.input,required:!0})]}),g.jsxs("div",{style:ee.inputGroup,children:[g.jsx("label",{style:ee.label,children:"Tax Office"}),g.jsx("input",{type:"text",value:f.taxOffice,onChange:T=>m({...f,taxOffice:T.target.value}),placeholder:"e.g., Lagos State Tax Office",style:ee.input,required:!0})]}),g.jsxs("div",{style:ee.inputGroup,children:[g.jsx("label",{style:ee.label,children:"Reference Number (if applicable)"}),g.jsx("input",{type:"text",value:f.referenceNumber,onChange:T=>m({...f,referenceNumber:T.target.value}),placeholder:"e.g., Assessment notice number, TIN, etc.",style:ee.input})]}),g.jsxs("div",{style:ee.inputGroup,children:[g.jsx("label",{style:ee.label,children:"Detailed Description"}),g.jsx("textarea",{value:f.description,onChange:T=>m({...f,description:T.target.value}),placeholder:"Please provide detailed information about your complaint or inquiry...",style:{...ee.input,minHeight:"120px",resize:"vertical"},required:!0})]}),g.jsx("button",{type:"submit",style:y?{...ee.submitButton,...ee.submitButtonDisabled}:ee.submitButton,disabled:y,children:y?"Submitting...":"Submit Complaint"})]}),g.jsx("div",{style:ee.complaintsList,children:n.length===0?g.jsxs("div",{style:ee.emptyState,children:[g.jsx("div",{style:ee.emptyIcon,children:"📝"}),g.jsx("h3",{style:ee.emptyTitle,children:"No Complaints Yet"}),g.jsx("p",{style:ee.emptyText,children:"Having issues with the tax office? Submit a complaint and track its resolution"})]}):n.map((T,R)=>g.jsxs("div",{style:ee.complaintCard,children:[g.jsxs("div",{style:ee.complaintHeader,children:[g.jsxs("div",{children:[g.jsx("div",{style:ee.categoryBadge,children:T.category}),g.jsx("h4",{style:ee.complaintTitle,children:T.subject}),g.jsxs("p",{style:ee.complaintMeta,children:[T.taxOffice," • ",new Date(T.createdAt).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric"})]})]}),g.jsx("div",{style:{...ee.statusBadge,backgroundColor:k(T.status)},children:T.status})]}),g.jsx("p",{style:ee.complaintDescription,children:T.description}),T.referenceNumber&&g.jsxs("div",{style:ee.referenceRow,children:[g.jsx("span",{style:ee.referenceLabel,children:"Reference:"}),g.jsx("span",{style:ee.referenceValue,children:T.referenceNumber})]})]},R))}),g.jsxs("div",{style:ee.infoCard,children:[g.jsx("h4",{style:ee.infoTitle,children:"💡 Tips for Effective Complaints"}),g.jsxs("ul",{style:ee.infoList,children:[g.jsx("li",{children:"Be specific and include all relevant reference numbers"}),g.jsx("li",{children:"Provide clear documentation and evidence"}),g.jsx("li",{children:"Keep a copy of all correspondence"}),g.jsx("li",{children:"Follow up regularly on pending complaints"}),g.jsx("li",{children:"Escalate to the Tax Appeal Tribunal if unresolved"})]})]}),g.jsxs("div",{style:ee.contactCard,children:[g.jsx("h4",{style:ee.contactTitle,children:"📞 Important Contacts"}),g.jsxs("div",{style:ee.contactList,children:[g.jsxs("div",{style:ee.contactItem,children:[g.jsx("strong",{children:"FIRS Contact Centre:"})," 0700-CALL-FIRS (0700-2255-3477)"]}),g.jsxs("div",{style:ee.contactItem,children:[g.jsx("strong",{children:"Email:"})," contactcentre@firs.gov.ng"]}),g.jsxs("div",{style:ee.contactItem,children:[g.jsx("strong",{children:"Tax Appeal Tribunal:"})," www.tat.gov.ng"]})]})]})]})},ee={container:{display:"flex",flexDirection:"column",gap:"20px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",gap:"16px"},spinner:{width:"32px",height:"32px",border:"3px solid #E9ECEF",borderTop:"3px solid #0A5C36",borderRadius:"50%",animation:"spin 1s linear infinite"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},title:{fontSize:"24px",fontWeight:"700",color:"#212529",margin:"0 0 8px 0"},subtitle:{fontSize:"14px",color:"#6C757D",margin:0},addButton:{padding:"10px 16px",fontSize:"14px",fontWeight:"600",color:"#0A5C36",backgroundColor:"#E7F4EE",border:"1px solid #0A5C36",borderRadius:"8px",cursor:"pointer",whiteSpace:"nowrap"},form:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},formTitle:{fontSize:"18px",fontWeight:"600",color:"#212529",margin:"0 0 20px 0"},inputGroup:{marginBottom:"16px"},label:{display:"block",fontSize:"14px",fontWeight:"600",color:"#212529",marginBottom:"8px"},input:{width:"100%",padding:"12px",fontSize:"16px",border:"1px solid #DEE2E6",borderRadius:"8px",boxSizing:"border-box",outline:"none"},submitButton:{width:"100%",padding:"14px",fontSize:"16px",fontWeight:"600",color:"white",backgroundColor:"#0A5C36",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"8px"},submitButtonDisabled:{opacity:.6,cursor:"not-allowed"},complaintsList:{display:"flex",flexDirection:"column",gap:"12px"},complaintCard:{backgroundColor:"white",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},complaintHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px",gap:"12px"},categoryBadge:{display:"inline-block",padding:"4px 10px",fontSize:"11px",fontWeight:"600",color:"#0A5C36",backgroundColor:"#E7F4EE",borderRadius:"4px",marginBottom:"8px"},complaintTitle:{fontSize:"16px",fontWeight:"600",color:"#212529",margin:"0 0 4px 0"},complaintMeta:{fontSize:"12px",color:"#6C757D",margin:0},statusBadge:{padding:"6px 12px",fontSize:"12px",fontWeight:"600",color:"white",borderRadius:"6px",whiteSpace:"nowrap"},complaintDescription:{fontSize:"14px",color:"#495057",margin:"0 0 12px 0",lineHeight:"1.6"},referenceRow:{display:"flex",gap:"8px",padding:"8px 12px",backgroundColor:"#F8F9FA",borderRadius:"6px",fontSize:"13px"},referenceLabel:{fontWeight:"600",color:"#6C757D"},referenceValue:{color:"#212529"},emptyState:{textAlign:"center",padding:"40px 20px",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"48px",marginBottom:"16px"},emptyTitle:{fontSize:"18px",fontWeight:"600",color:"#212529",margin:"0 0 8px 0"},emptyText:{fontSize:"14px",color:"#6C757D",margin:0,lineHeight:"1.5"},infoCard:{backgroundColor:"#E7F4EE",borderRadius:"12px",padding:"16px",border:"1px solid #B8E6CF"},infoTitle:{fontSize:"14px",fontWeight:"600",color:"#0A5C36",margin:"0 0 12px 0"},infoList:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#0A5C36",lineHeight:"1.8"},contactCard:{backgroundColor:"#FFF3CD",borderRadius:"12px",padding:"16px",border:"1px solid #FFE69C"},contactTitle:{fontSize:"14px",fontWeight:"600",color:"#856404",margin:"0 0 12px 0"},contactList:{display:"flex",flexDirection:"column",gap:"8px"},contactItem:{fontSize:"13px",color:"#856404",lineHeight:"1.6"}},$y=({accessToken:l,onLogout:n})=>{const[i,o]=he.useState("home"),[a,c]=he.useState(null),[h,f]=he.useState(!0);he.useEffect(()=>{m()},[]);const m=async()=>{try{const w=await fetch(`https://${Ut}.supabase.co/functions/v1/make-server-dad2c3ab/profile`,{headers:{Authorization:`Bearer ${l}`}}),E=await w.json();w.ok&&E.profile&&c(E.profile)}catch(w){console.error("Error fetching profile:",w)}finally{f(!1)}},y=async()=>{await Hs.auth.signOut(),n()};return h?g.jsxs("div",{style:q.loadingContainer,children:[g.jsx("div",{style:q.spinner}),g.jsx("p",{children:"Loading your dashboard..."})]}):g.jsxs("div",{style:q.container,children:[g.jsxs("div",{style:q.header,children:[g.jsxs("div",{children:[g.jsx("h1",{style:q.headerTitle,children:"NaijaTaxMate"}),g.jsx("h2",{style:q.headerTitle,children:"Developed by Egwi U. Kelvin 08034444055"}),g.jsxs("p",{style:q.headerSubtitle,children:[a?.name," • ",a?.userType==="individual"?"Individual":"Business"]})]}),g.jsx("button",{onClick:y,style:q.logoutButton,children:"Sign Out"})]}),g.jsxs("div",{style:q.content,children:[i==="home"&&g.jsxs("div",{style:q.home,children:[g.jsxs("div",{style:q.welcomeCard,children:[g.jsx("h2",{style:q.welcomeTitle,children:"Welcome to NaijaTaxMate"}),g.jsx("p",{style:q.welcomeText,children:"Your comprehensive tax management solution for Nigerian taxpayers"})]}),g.jsxs("div",{style:q.features,children:[g.jsx("h3",{style:q.featuresTitle,children:"How NaijaTaxMate Helps You"}),g.jsxs("div",{style:q.featureCard,onClick:()=>o("calculator"),children:[g.jsx("div",{style:q.featureIcon,children:"💰"}),g.jsxs("div",{style:q.featureContent,children:[g.jsx("h4",{style:q.featureCardTitle,children:"Tax Calculation"}),g.jsx("p",{style:q.featureCardText,children:"Not knowing how much tax to pay? Calculate your exact tax obligations based on Nigerian Tax Reform Act"})]})]}),g.jsxs("div",{style:q.featureCard,onClick:()=>o("deadlines"),children:[g.jsx("div",{style:q.featureIcon,children:"⏰"}),g.jsxs("div",{style:q.featureContent,children:[g.jsx("h4",{style:q.featureCardTitle,children:"Deadline Management"}),g.jsx("p",{style:q.featureCardText,children:"Missing deadlines? Track and get reminders for all important tax filing dates"})]})]}),g.jsxs("div",{style:q.featureCard,onClick:()=>o("records"),children:[g.jsx("div",{style:q.featureIcon,children:"📁"}),g.jsxs("div",{style:q.featureContent,children:[g.jsx("h4",{style:q.featureCardTitle,children:"Record Keeping"}),g.jsx("p",{style:q.featureCardText,children:"Keeping records for audits? Maintain organized records of all tax payments and documents"})]})]}),g.jsxs("div",{style:q.featureCard,onClick:()=>o("complaints"),children:[g.jsx("div",{style:q.featureIcon,children:"📝"}),g.jsxs("div",{style:q.featureContent,children:[g.jsx("h4",{style:q.featureCardTitle,children:"Tax Office Support"}),g.jsx("p",{style:q.featureCardText,children:"Dealing with tax office issues? Submit and track complaints or inquiries"})]})]})]})]}),i==="calculator"&&g.jsx(Iy,{userType:a?.userType,accessToken:l}),i==="records"&&g.jsx(Dy,{accessToken:l}),i==="deadlines"&&g.jsx(Ny,{accessToken:l}),i==="complaints"&&g.jsx(Ly,{accessToken:l})]}),g.jsxs("div",{style:q.navigation,children:[g.jsxs("button",{onClick:()=>o("home"),style:i==="home"?{...q.navButton,...q.navButtonActive}:q.navButton,children:[g.jsx("span",{style:q.navIcon,children:"🏠"}),g.jsx("span",{style:q.navLabel,children:"Home"})]}),g.jsxs("button",{onClick:()=>o("calculator"),style:i==="calculator"?{...q.navButton,...q.navButtonActive}:q.navButton,children:[g.jsx("span",{style:q.navIcon,children:"🧮"}),g.jsx("span",{style:q.navLabel,children:"Calculate"})]}),g.jsxs("button",{onClick:()=>o("records"),style:i==="records"?{...q.navButton,...q.navButtonActive}:q.navButton,children:[g.jsx("span",{style:q.navIcon,children:"📁"}),g.jsx("span",{style:q.navLabel,children:"Records"})]}),g.jsxs("button",{onClick:()=>o("deadlines"),style:i==="deadlines"?{...q.navButton,...q.navButtonActive}:q.navButton,children:[g.jsx("span",{style:q.navIcon,children:"⏰"}),g.jsx("span",{style:q.navLabel,children:"Deadlines"})]}),g.jsxs("button",{onClick:()=>o("complaints"),style:i==="complaints"?{...q.navButton,...q.navButtonActive}:q.navButton,children:[g.jsx("span",{style:q.navIcon,children:"📝"}),g.jsx("span",{style:q.navLabel,children:"Support"})]})]})]})},q={container:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"#F8F9FA"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"16px"},spinner:{width:"32px",height:"32px",border:"3px solid #E9ECEF",borderTop:"3px solid #0A5C36",borderRadius:"50%",animation:"spin 1s linear infinite"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",backgroundColor:"white",borderBottom:"1px solid #E9ECEF"},headerTitle:{fontSize:"20px",fontWeight:"700",color:"#0A5C36",margin:"0 0 4px 0"},headerSubtitle:{fontSize:"12px",color:"#6C757D",margin:0},logoutButton:{padding:"8px 16px",fontSize:"14px",fontWeight:"600",color:"#DC3545",backgroundColor:"transparent",border:"1px solid #DC3545",borderRadius:"6px",cursor:"pointer"},content:{flex:1,overflowY:"auto",padding:"20px",paddingBottom:"80px"},home:{display:"flex",flexDirection:"column",gap:"24px"},welcomeCard:{backgroundColor:"#0A5C36",borderRadius:"12px",padding:"24px",color:"white"},welcomeTitle:{fontSize:"24px",fontWeight:"700",margin:"0 0 8px 0"},welcomeText:{fontSize:"14px",margin:0,opacity:.9},features:{display:"flex",flexDirection:"column",gap:"16px"},featuresTitle:{fontSize:"18px",fontWeight:"600",color:"#212529",margin:"0 0 8px 0"},featureCard:{display:"flex",gap:"16px",backgroundColor:"white",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",cursor:"pointer",transition:"transform 0.2s"},featureIcon:{fontSize:"32px",flexShrink:0},featureContent:{flex:1},featureCardTitle:{fontSize:"16px",fontWeight:"600",color:"#212529",margin:"0 0 8px 0"},featureCardText:{fontSize:"14px",color:"#6C757D",margin:0,lineHeight:"1.5"},navigation:{position:"fixed",bottom:0,left:0,right:0,display:"flex",backgroundColor:"white",borderTop:"1px solid #E9ECEF",padding:"8px",justifyContent:"space-around"},navButton:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",padding:"8px 12px",backgroundColor:"transparent",border:"none",cursor:"pointer",borderRadius:"8px",minWidth:"60px"},navButtonActive:{backgroundColor:"#E7F4EE"},navIcon:{fontSize:"20px"},navLabel:{fontSize:"11px",color:"#6C757D",fontWeight:"500"}};function zy(){const[l,n]=he.useState("splash"),[i,o]=he.useState(null);he.useEffect(()=>{const f=setTimeout(()=>{a()},2500);return()=>clearTimeout(f)},[]);const a=async()=>{try{const{data:{session:f}}=await Hs.auth.getSession();f?.access_token?(o(f.access_token),n("dashboard")):n("auth")}catch(f){console.error("Error checking session:",f),n("auth")}},c=f=>{o(f),n("dashboard")},h=()=>{o(null),n("auth")};return l==="splash"?g.jsx(Py,{}):l==="auth"?g.jsx(Ay,{onAuth:c}):g.jsx($y,{accessToken:i,onLogout:h})}rg.createRoot(document.getElementById("root")).render(g.jsx(zy,{}));
